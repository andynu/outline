{"id":"otl-09v","title":"Tests: Hashtags (#)","description":"Test hashtag features:\n- Typing # opens suggestion popup\n- Shows existing tags\n- Can create new tag\n- Hashtag renders with styling\n- Clicking hashtag triggers search","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.599419882-05:00","updated_at":"2025-12-19T22:34:17.232514915-05:00","closed_at":"2025-12-19T22:34:17.232514915-05:00"}
{"id":"otl-0in","title":"Add Ctrl+, for dedent and Ctrl+. for indent (additional shortcuts)","description":"Add alternative keyboard shortcuts for indent/dedent: Ctrl+. for indent, Ctrl+, for dedent. These are additive to existing Tab/Shift-Tab (note: Shift-Tab dedent is currently broken per otl-b3o-related issues). Mnemonic: \u003c and \u003e without shift.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:15:55.468876816-05:00","updated_at":"2025-12-18T23:18:27.726611195-05:00","closed_at":"2025-12-18T23:18:27.726611195-05:00"}
{"id":"otl-0j2","title":"Phase 4: Search \u0026 Links","description":"Find anything fast. Connect ideas with wiki-links.\n\nSubtasks:\n- 4.1 SQLite Cache (FTS5, rebuild from state.json)\n- 4.2 Full-Text Search (Ctrl+Shift+F, Ctrl+F)\n- 4.3 Quick Navigation (File Finder Ctrl+O, Item Finder Ctrl+Shift+O)\n- 4.4 Internal Links ([[ autocomplete, clickable chips)\n- 4.5 Backlinks (links.jsonl, backlinks panel)\n\nMilestone: Knowledge base functionality. Ideas are connected.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T19:26:05.197782188-05:00","updated_at":"2025-12-12T11:36:40.761302499-05:00","closed_at":"2025-12-12T11:36:40.761302499-05:00","dependencies":[{"issue_id":"otl-0j2","depends_on_id":"otl-17u","type":"blocks","created_at":"2025-12-11T19:28:32.386706698-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0j2","depends_on_id":"otl-mm1","type":"blocks","created_at":"2025-12-12T11:24:45.268081812-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0j2","depends_on_id":"otl-ey7","type":"blocks","created_at":"2025-12-12T11:24:45.283165853-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0j2","depends_on_id":"otl-h64","type":"blocks","created_at":"2025-12-12T11:24:45.296610385-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0j2","depends_on_id":"otl-pfy","type":"blocks","created_at":"2025-12-12T11:24:45.309285748-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0j2","depends_on_id":"otl-9a2","type":"blocks","created_at":"2025-12-12T11:24:45.325463327-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-0mt","title":"Document folder organization in sidebar","description":"Organize documents into folders in the sidebar (like Dynalist's Work, Archive folders). Folder icons, expand/collapse folders, drag documents between folders. Depends on sidebar (otl-d5a).","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-19T21:24:53.953979191-05:00","updated_at":"2025-12-21T19:38:41.561750073-05:00","closed_at":"2025-12-21T19:38:41.561750073-05:00","dependencies":[{"issue_id":"otl-0mt","depends_on_id":"otl-d5a","type":"blocks","created_at":"2025-12-19T21:25:01.206959562-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-0nj","title":"3.2 Add Tauri for desktop file access","description":"Integrate Tauri to enable file system access for sync. Configure to write to user-specified folder.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:50:25.041710032-05:00","updated_at":"2025-12-12T11:16:18.347779717-05:00","closed_at":"2025-12-12T11:16:18.347779717-05:00","dependencies":[{"issue_id":"otl-0nj","depends_on_id":"otl-17u","type":"blocks","created_at":"2025-12-12T10:50:30.968915743-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-0nj","depends_on_id":"otl-ljb","type":"blocks","created_at":"2025-12-12T10:50:30.981905294-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-0w2","title":"Bulk operations on multi-selection","description":"## Overview\n\nEnable bulk operations when multiple items are selected.\n\n## Operations\n\n### Movement\n- **Shift-Up/Down** (or Alt-Up/Down?): Move all selected items up/down together\n- Items should maintain their relative order\n- Movement constrained by hierarchy (can't move past parent boundaries?)\n\n### Hierarchy\n- **Tab**: Indent all selected items (make children of previous sibling)\n- **Shift-Tab**: Outdent all selected items\n- Needs to handle mixed hierarchy levels sensibly\n\n### Deletion\n- **Shift-Delete** (or Delete?): Delete all selected items\n- Confirmation dialog for bulk delete?\n- Children of selected items: delete them too (standard behavior)\n\n### Completion\n- **Ctrl-Enter**: Toggle completion on all selected checkbox items\n- Non-checkbox items ignored or converted?\n\n## Edge Cases\n\n- Selection spans multiple hierarchy levels\n- Selection includes parent and child (delete parent = child gone anyway)\n- Selection includes collapsed items with hidden children\n\n## Dependencies\n\nRequires multi-select infrastructure (otl-XXX) to be implemented first.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:49:53.483359433-05:00","created_by":"andy","updated_at":"2025-12-27T18:49:53.483359433-05:00","dependencies":[{"issue_id":"otl-0w2","depends_on_id":"otl-dah","type":"blocks","created_at":"2025-12-27T18:50:57.194666069-05:00","created_by":"andy"}]}
{"id":"otl-11f","title":"Hover reveals hamburger menu and collapse/expand controls","description":"On hover over an item, show: (1) hamburger icon for context menu access, (2) minus icon for collapse (or plus for expand) when item has children. The collapse/expand icon replaces the bullet position and is draggable for moving subtrees. Provides discoverable UI for context menu and collapse without always showing controls. Related to otl-5ta drag-and-drop and otl-fos context menu.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:24:54.983619828-05:00","updated_at":"2025-12-20T21:59:22.597360551-05:00","closed_at":"2025-12-20T21:59:22.597360551-05:00","dependencies":[{"issue_id":"otl-11f","depends_on_id":"otl-5ta","type":"blocks","created_at":"2025-12-19T21:25:01.240185377-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-11f","depends_on_id":"otl-fos","type":"blocks","created_at":"2025-12-19T21:25:01.257348704-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-157","title":"Add Ctrl+Shift+H shortcut for Hide Completed toggle","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T21:15:30.495975772-05:00","updated_at":"2025-12-19T21:20:47.437901185-05:00","closed_at":"2025-12-19T21:20:47.437901185-05:00"}
{"id":"otl-17u","title":"Phase 3: Multi-Machine Sync","description":"Use on laptop and desktop via Dropbox. Edits merge automatically.\n\nSubtasks:\n- 3.1 Sync Detection (poll mtimes every 2-3 min)\n- 3.2 Merge Logic (LWW per field, normalize positions)\n- 3.3 Conflict File Recovery (Dropbox conflict copies)\n- 3.4 Compaction (soft primary claim system)\n- 3.5 Testing (offline edits, reconnect, merge)\n\nMilestone: Seamlessly switch between machines. Conflicts resolve automatically.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T19:26:05.07236429-05:00","updated_at":"2025-12-12T11:17:49.436199477-05:00","closed_at":"2025-12-12T11:17:49.436199477-05:00","dependencies":[{"issue_id":"otl-17u","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-11T19:28:32.371806416-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-1or","title":"Note field typing extremely laggy - full tree rebuild on every keystroke","description":"## Problem\n\nTyping in the note field (Shift-Enter) is unusably slow. Each keystroke has 500-1000ms delay, with occasional dropped keys.\n\n## Root Cause (from console logs)\n\nEvery keystroke triggers:\n1. `update_node` API call to backend\n2. Full `rebuildIndexes` of entire tree (~600-900ms for 1691 nodes)\n3. `buildTree` (~100-200ms)\n\nTotal: ~700-1000ms blocking per keystroke.\n\n## Console Evidence\n\n```\n[perf] rebuildIndexes (full) call#1: 9.0ms for 1691 nodes\n[API] update_node via Tauri: {note: \"t\"}\n[perf] rebuildIndexes (full) call#2: 876.0ms for 1691 nodes\n[perf] buildTree: 176.0ms\n[API] update_node via Tauri: {note: \"te\"}\n[perf] rebuildIndexes (full) call#3: 820.0ms for 1691 nodes\n[perf] buildTree: 189.0ms\n```\n\nNote: First rebuild is 9ms, subsequent ones are ~100x slower. Different code path?\n\n## Required Fixes\n\n### 1. Debounce note updates\nDon't call `update_node` on every keystroke. Debounce by 300-500ms so updates batch during typing.\n\n### 2. Avoid full tree rebuild for note changes\nA note change doesn't affect:\n- Tree structure (parent/child relationships)\n- Sort order\n- Anything that requires `rebuildIndexes`\n\nShould be a targeted update to just that node's data.\n\n### 3. Investigate rebuild performance regression\nWhy is call#1 9ms but call#2+ are 600-900ms? Something is making subsequent rebuilds much more expensive.\n\n## Environment\n\n- Document: 1691 nodes\n- Reproduction: Open any note field, type a few characters","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T18:53:22.14621475-05:00","created_by":"andy","updated_at":"2025-12-27T19:59:19.250881792-05:00","closed_at":"2025-12-27T19:59:19.250881792-05:00","close_reason":"Fixed by implementing debounced note updates with optimistic in-place updates. Notes now update all caches immediately without triggering a full tree rebuild. API calls are debounced by 300ms to reduce backend load."}
{"id":"otl-1si","title":"Restore last session state on app launch","description":"## Problem\n\nWhen reopening the app, it starts with a blank/default state. Users have to manually navigate back to the document and location they were working on.\n\n## Expected Behavior\n\nOn launch, restore the previous session state:\n\n### What to Restore\n- **Document**: Which document was open\n- **Zoom state**: If zoomed into a node (`Ctrl-]`), restore that zoom level\n- **Selection**: Which item was selected/focused\n- **Scroll position**: Viewport position within the document\n\n### Storage\n- Store in local preferences/config (not synced)\n- Each machine remembers its own last-open state\n- Likely stored in app data directory alongside the SQLite cache\n\n## Edge Cases\n\n- **Deleted document**: If the last document no longer exists, fall back to default behavior\n- **Deleted node**: If the zoomed/selected node was deleted, zoom out to document root and select first item\n- **First launch**: No saved state, use default behavior\n\n## Implementation Notes\n\n- Tauri can persist state via `tauri-plugin-store` or simple JSON file in app data dir\n- Save state on document/zoom/selection changes (debounced)\n- Load state on app init before rendering","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:29:16.092033945-05:00","created_by":"andy","updated_at":"2025-12-27T18:47:17.631229302-05:00","closed_at":"2025-12-27T18:47:17.631229302-05:00","close_reason":"Implemented: App now restores last session on launch (document, zoom, focus, scroll position). Commit 6c03c6a."}
{"id":"otl-1x9","title":"Phase 1: Foundation - Usable Outliner","description":"Basic outliner that can replace a text file. Edit, save, reload.\n\nSubtasks:\n- 1.1 Project Setup (Tauri 2 + SvelteKit + TipTap)\n- 1.2 Data Layer (Rust: Node struct, state.json, pending.jsonl)\n- 1.3 Basic Tree UI (render nodes, indent by depth)\n- 1.4 Editing (TipTap, create/delete nodes)\n- 1.5 Hierarchy Operations (indent/outdent, move up/down)\n- 1.6 Persistence Round-Trip (load/save cycle works)\n\nMilestone: Can create an outline, edit it, close app, reopen with data intact.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T19:25:48.515939271-05:00","updated_at":"2025-12-11T22:39:05.273343969-05:00","closed_at":"2025-12-11T22:39:05.273343969-05:00","dependencies":[{"issue_id":"otl-1x9","depends_on_id":"otl-9o7","type":"blocks","created_at":"2025-12-11T19:33:57.753966977-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1x9","depends_on_id":"otl-4y8","type":"blocks","created_at":"2025-12-11T19:33:57.769235743-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1x9","depends_on_id":"otl-xcb","type":"blocks","created_at":"2025-12-11T19:33:57.78495606-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1x9","depends_on_id":"otl-59i","type":"blocks","created_at":"2025-12-11T19:33:57.803169038-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-1xv","title":"Comprehensive Playwright UI test coverage","description":"Create Playwright tests for all UI features. Tests serve dual purpose:\n1. Regression testing\n2. Feature documentation via test playback in Playwright UI mode\n\nRun `npm run test -- --ui` to watch tests execute visually.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T22:11:26.652681373-05:00","updated_at":"2025-12-19T22:59:03.547554469-05:00","closed_at":"2025-12-19T22:59:03.547554469-05:00","dependencies":[{"issue_id":"otl-1xv","depends_on_id":"otl-k0n","type":"blocks","created_at":"2025-12-19T22:19:37.907665648-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-nbk","type":"blocks","created_at":"2025-12-19T22:19:37.922824019-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-53i","type":"blocks","created_at":"2025-12-19T22:19:37.939797731-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-j9x","type":"blocks","created_at":"2025-12-19T22:19:37.955909928-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-8b9","type":"blocks","created_at":"2025-12-19T22:19:37.970873508-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-diq","type":"blocks","created_at":"2025-12-19T22:19:37.98571068-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-09v","type":"blocks","created_at":"2025-12-19T22:19:38.008118011-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-2fg","type":"blocks","created_at":"2025-12-19T22:19:38.024068457-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-9qw","type":"blocks","created_at":"2025-12-19T22:19:38.039186559-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-l4j","type":"blocks","created_at":"2025-12-19T22:19:38.054503999-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-uwn","type":"blocks","created_at":"2025-12-19T22:19:38.07404465-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-big","type":"blocks","created_at":"2025-12-19T22:19:38.090261812-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-809","type":"blocks","created_at":"2025-12-19T22:19:38.105704842-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-hvf","type":"blocks","created_at":"2025-12-19T22:19:38.124000584-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-th2","type":"blocks","created_at":"2025-12-19T22:19:38.142352621-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-1xv","depends_on_id":"otl-bkz","type":"blocks","created_at":"2025-12-19T22:19:38.156879657-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-2ea","title":"Settings panel (shortcuts, theme, font, data dir)","description":"Add a settings/preferences panel for customizing: keyboard shortcuts, theme preferences, font settings, data directory location. Part of Phase 8 polish.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-20T22:09:15.202114723-05:00","updated_at":"2025-12-20T22:18:08.123127993-05:00","closed_at":"2025-12-20T22:18:08.123127993-05:00"}
{"id":"otl-2fg","title":"Tests: Inline due dates !(date)","description":"Test inline dates (already partially covered):\n- Typing !( opens date suggestion\n- Natural language parsing (today, tomorrow, next week)\n- Date renders with color coding (overdue, today, upcoming, future)\n- Clicking date in content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.616478116-05:00","updated_at":"2025-12-19T22:34:52.916519604-05:00","closed_at":"2025-12-19T22:34:52.916519604-05:00"}
{"id":"otl-2or","title":"Add Ctrl-/ keyboard shortcut for help popup","description":"Implement Ctrl-/ to show help popup with keyboard shortcuts and commands. Using Ctrl-/ instead of '?' so question marks can be typed normally in content.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:14:59.355606485-05:00","updated_at":"2025-12-18T23:28:05.882927766-05:00","closed_at":"2025-12-18T23:28:05.882927766-05:00"}
{"id":"otl-2ou","title":"Bug: Cannot switch to Gruvbox theme from Settings menu","description":"## Problem\nUser reports being unable to switch to Gruvbox theme from the View \u003e Settings menu.\n\n## Investigation done\nCode review shows gruvbox themes ARE defined:\n- `theme.svelte.ts:71-78` - `availableThemes` includes gruvbox-light and gruvbox-dark\n- `theme.css:273, 379` - CSS variables defined for `[data-theme=\"gruvbox-dark\"]` and `[data-theme=\"gruvbox-light\"]`\n- `SettingsModal.svelte:175-178` - iterates over `theme.availableThemes`\n\n## Possible causes to investigate\n1. **Dropdown unreadable** (related to otl-hgj) - user may not see the gruvbox options due to white-on-white text\n2. **Theme not persisting** - localStorage issue?\n3. **Theme not applying** - `data-theme` attribute not being set on document?\n4. **Select value binding issue** - Svelte select not updating properly?\n\n## Reproduction steps needed\n1. Open Settings modal\n2. Click Theme dropdown\n3. Observe: are Gruvbox Light/Dark options visible?\n4. Select one - does it apply?\n5. Reload - does it persist?\n\n## Files\n- app/src/lib/SettingsModal.svelte:169-178 (theme dropdown)\n- app/src/lib/SettingsModal.svelte:84-88 (handleThemeChange)\n- app/src/lib/theme.svelte.ts:81-85 (setTheme)\n- app/src/lib/theme.svelte.ts:100-117 (updateEffectiveTheme)\n\n## Likely related\notl-hgj - if dropdowns are unreadable, user can't see the gruvbox options to select them","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T19:35:59.788490228-05:00","updated_at":"2025-12-21T19:40:40.307100215-05:00","closed_at":"2025-12-21T19:40:40.307100215-05:00","dependencies":[{"issue_id":"otl-2ou","depends_on_id":"otl-hgj","type":"blocks","created_at":"2025-12-21T19:36:03.645202291-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-2ww","title":"Context menu position incorrect at non-100% zoom levels","description":"When zoom is applied via CSS zoom property, context menu appears far from click location. Mouse coordinates need to be divided by zoom level to get correct position within zoomed content.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T23:54:25.026978157-05:00","updated_at":"2025-12-19T23:56:16.790905443-05:00","closed_at":"2025-12-19T23:56:16.790905443-05:00"}
{"id":"otl-2zb","title":"Add secondary notes field for items","description":"Items can have a secondary notes field - smaller muted text displayed beneath the main content. Separate from the main content line. In Dynalist accessed via 'Add note' (Shift+Enter). Useful for additional context, URLs, metadata without cluttering the main outline text.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:24:53.618582089-05:00","updated_at":"2025-12-20T21:54:34.804585484-05:00","closed_at":"2025-12-20T21:54:34.804585484-05:00"}
{"id":"otl-36t","title":"Undo/Redo (operation history, Ctrl+Z/Y)","description":"Implement undo/redo functionality. Requires tracking operation history and being able to reverse operations. Part of Phase 8 polish.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T22:09:09.873226518-05:00","updated_at":"2025-12-21T13:40:23.565367628-05:00","closed_at":"2025-12-21T13:40:23.565367628-05:00"}
{"id":"otl-3c7","title":"2.2 Implement real zoom/hoisting with breadcrumbs","description":"Add zoomedRootId to state. When zoomed, only show that subtree. Show breadcrumb trail at top. Ctrl+]/[ to navigate zoom.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:40:04.601588276-05:00","updated_at":"2025-12-12T10:42:48.975449553-05:00","closed_at":"2025-12-12T10:42:48.975449553-05:00","dependencies":[{"issue_id":"otl-3c7","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-12T10:40:08.305929076-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-3f9","title":"Fix layout: outline container should scroll, not grow unbounded","description":"Current behavior: Outline container grows as items are added, pushing toolbar/footer widgets outside the Tauri window viewport.\n\nRequired layout:\n- Fixed toolbar row (top)\n- Fixed status/footer row (bottom)  \n- Flex-growing outline area (middle) with overflow-y: scroll\n- Outline area should fill available vertical space and scroll internally\n- Layout must remain stable during window resize","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T19:33:00.493517072-05:00","updated_at":"2025-12-18T19:59:07.715966865-05:00","closed_at":"2025-12-18T19:59:07.715966865-05:00","dependencies":[{"issue_id":"otl-3f9","depends_on_id":"otl-xr2","type":"blocks","created_at":"2025-12-18T19:35:45.131893848-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-3gw","title":"Tag autocomplete when typing #","description":"Show autocomplete suggestions when user types # in the editor, similar to wiki-link suggestions. Should show existing tags sorted by frequency.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:14:29.12358439-05:00","updated_at":"2025-12-18T22:19:55.488536346-05:00","closed_at":"2025-12-18T22:19:55.488536346-05:00"}
{"id":"otl-4b4","title":"Undo/redo for all outline operations","description":"## Problem\n\nNo undo functionality exists. Accidentally completing, deleting, or modifying items cannot be reversed.\n\n## Requirements\n\n### Operations to Support\nAll outline operations should be undoable:\n- Create node\n- Delete node (and restore children)\n- Move node (reorder, reparent)\n- Indent / outdent\n- Content edits\n- Note edits\n- Toggle completion (Ctrl+Enter)\n- Date changes\n- Checkbox/bullet conversion\n- Any future operations\n\n### Scope\n- **Per-document history** - Each document maintains its own undo stack\n- **Session-based** - History lives in memory for app process lifetime\n- **Survives document switching** - Switch away and back, history still there\n- **No persistence** - History lost on app quit (acceptable for v1)\n\n### History Limits\n- Cap at 100-1000 operations per document (depending on memory cost)\n- Oldest operations dropped when limit reached\n\n### Keyboard Shortcuts\n- **Undo**: Ctrl+Z\n- **Redo**: Ctrl+Shift+Z AND Ctrl+Y (both, unless one conflicts with existing binding)\n\n## Implementation Considerations\n\n### Approach Options\n\n**Option A: Command Pattern**\n- Each operation becomes a reversible command object\n- Store command stack per document\n- Commands know how to `execute()` and `undo()`\n\n**Option B: State Snapshots**\n- Store periodic state snapshots\n- More memory intensive but simpler\n- May not give fine-grained undo\n\n**Option C: Operation Log Reversal**\n- Already have operation log (JSONL)\n- Generate inverse operations\n- Replay to undo\n\n### Challenges\n- **Grouping**: Multiple rapid edits (typing) should undo as one unit\n- **TipTap integration**: Content edits go through TipTap which has its own undo - need to coordinate\n- **Collaborative conflicts**: If syncing, remote changes interleave with local undo stack\n\n## Priority\n\nP1 - Core usability feature. Accidentally completing/deleting items with no recovery is frustrating.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-27T19:01:58.210789079-05:00","created_by":"andy","updated_at":"2025-12-27T21:20:20.726280876-05:00","closed_at":"2025-12-27T21:20:20.726280876-05:00","close_reason":"Added undo/redo support for all outline operations: setRecurrence, swapWithPrevious, swapWithNext, toggleCollapse. Added new 'swap' UndoAction type. All 225 tests pass."}
{"id":"otl-4nf","title":"Evaluate SolidJS + TipTap for outliner frontend","description":"Write a proposal document evaluating SolidJS + TipTap as the frontend framework for the Tauri outliner.\n\n**First read dynalist-replacement-features.md to understand the full feature requirements.**\n\nEvaluate against the full feature set:\n- Core outliner (infinite nesting, zoom/hoisting, collapse/expand, drag-drop)\n- Node types (bullets, checkboxes, headings, numbered lists)\n- Rich text (markdown, inline links, images, LaTeX)\n- Links \u0026 mirrors ([[internal links]], backlinks, ((node mirrors)))\n- Task management (checkboxes, natural language dates, recurring tasks)\n- Search (full-text, filtered by tag/date/color)\n- Keyboard-first design\n- Views \u0026 themes\n\nDocument should cover:\n1. How SolidJS + TipTap addresses each feature area\n2. Specific libraries/packages for each need (solid-dnd, solid-primitives, etc.)\n3. Code examples for key patterns\n4. Performance advantages of fine-grained reactivity for trees\n5. TipTap/Solid integration specifics and maturity\n6. Tauri integration approach\n7. Risks and mitigations (ecosystem gaps, community size)\n8. Ecosystem maturity assessment\n\nOutput: docs/proposal-solidjs-tiptap.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T21:57:57.634100853-05:00","updated_at":"2025-12-09T22:12:56.732847334-05:00","closed_at":"2025-12-09T22:12:56.732847334-05:00"}
{"id":"otl-4p8","title":"Performance: Lazy TipTap initialization for non-focused items","description":"Opening a document with 1,707 items causes the UI to hang. Each OutlineItem creates a TipTap/ProseMirror editor instance, which is too heavyweight for large documents.\n\n**Potential fixes (pick one or combine):**\n1. **Virtualized rendering** - Only render visible items (complex with tree structure)\n2. **Lazy editor init** - Only create TipTap for focused item, use plain div for others\n3. **Auto-collapse on large docs** - Collapse root items to reduce initial render\n4. **Chunked rendering** - Render in batches with requestIdleCallback\n\nThe lazy editor approach is probably the best balance of effort vs impact - display plain HTML for non-focused items, only instantiate TipTap when an item receives focus.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T21:11:57.545795298-05:00","updated_at":"2025-12-19T21:30:30.696160585-05:00","closed_at":"2025-12-19T21:30:30.696160585-05:00"}
{"id":"otl-4y8","title":"1.2 Rust data layer: Node struct and JSONL I/O","description":"Implement Rust backend for data persistence.\n\nAcceptance criteria:\n- Define Node struct in Rust (id, content, parent_id, position, collapsed, updated_at)\n- Implement state.json read/write\n- Implement pending.{hostname}.jsonl append\n- Add Tauri commands: load_document, save_op\n- Create single hardcoded document for testing\n\nData format per architecture-data-format.md - flat list of nodes with parent_id references.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T19:33:51.854340814-05:00","updated_at":"2025-12-11T22:30:00.250426208-05:00","closed_at":"2025-12-11T22:30:00.250426208-05:00","dependencies":[{"issue_id":"otl-4y8","depends_on_id":"otl-9o7","type":"blocks","created_at":"2025-12-11T19:33:57.889026384-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-53i","title":"Tests: Hierarchy (indent, outdent, collapse)","description":"Test tree structure:\n- Tab indents item under previous sibling\n- Shift+Tab outdents item to parent level\n- Collapse button hides children\n- Expand button shows children\n- Collapse indicator shows correct state","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.52131873-05:00","updated_at":"2025-12-19T22:23:50.811373826-05:00","closed_at":"2025-12-19T22:23:50.811373826-05:00"}
{"id":"otl-59i","title":"1.6 Persistence round-trip verification","description":"Complete persistence loop with manual verification.\n\nAcceptance criteria:\n- On startup: load state.json + replay pending files\n- On edit: append to pending.{hostname}.jsonl\n- Manual save merges pending → state.json\n- Verify: close app, reopen, data persists\n- Test creating nodes, editing, reordering, then verifying persistence\n\nThis is the Phase 1 milestone: Can create an outline, edit it, close app, reopen with data intact.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T19:33:52.061279473-05:00","updated_at":"2025-12-11T22:38:46.805268069-05:00","closed_at":"2025-12-11T22:38:46.805268069-05:00","dependencies":[{"issue_id":"otl-59i","depends_on_id":"otl-xcb","type":"blocks","created_at":"2025-12-11T19:33:57.921621581-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-5en","title":"Tag panel/sidebar listing all tags","description":"Create a sidebar panel that shows all unique tags used in the document with counts. Clicking a tag should filter/search for items with that tag.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:14:28.999105621-05:00","updated_at":"2025-12-18T22:17:18.17126192-05:00","closed_at":"2025-12-18T22:17:18.17126192-05:00"}
{"id":"otl-5ja","title":"Evaluate React + Lexical for outliner frontend","description":"Write a proposal document evaluating React + Lexical as the frontend framework for the Tauri outliner.\n\n**First read dynalist-replacement-features.md to understand the full feature requirements.**\n\nEvaluate against the full feature set:\n- Core outliner (infinite nesting, zoom/hoisting, collapse/expand, drag-drop)\n- Node types (bullets, checkboxes, headings, numbered lists)\n- Rich text (markdown, inline links, images, LaTeX)\n- Links \u0026 mirrors ([[internal links]], backlinks, ((node mirrors)))\n- Task management (checkboxes, natural language dates, recurring tasks)\n- Search (full-text, filtered by tag/date/color)\n- Keyboard-first design\n- Views \u0026 themes\n\nDocument should cover:\n1. How React + Lexical addresses each feature area\n2. Specific libraries/packages for each need\n3. Code examples for key patterns\n4. Performance considerations for tree structures\n5. Tauri integration approach\n6. Risks and mitigations\n7. Ecosystem maturity assessment\n\nOutput: docs/proposal-react-lexical.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T21:57:35.792930711-05:00","updated_at":"2025-12-09T22:05:53.097637534-05:00","closed_at":"2025-12-09T22:05:53.097637534-05:00"}
{"id":"otl-5ta","title":"Drag and drop by grabbing bullet, add separate collapse/expand icon","description":"Enable drag and drop reordering by grabbing the bullet point. Since the bullet currently handles collapse/expand, add a secondary icon (chevron or similar) for expand/collapse functionality. This affects OutlineItem.svelte - will need drag handle on bullet, new expand icon, and drag/drop event handling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:16:23.021161919-05:00","updated_at":"2025-12-18T22:28:49.149534958-05:00","closed_at":"2025-12-18T22:28:49.149534958-05:00"}
{"id":"otl-5vt","title":"Quick-access eyeball icon for hide/show completed toggle","description":"Add eyeball icon to toolbar for quick toggle of hide/show completed items (in addition to View menu toggle otl-vo2). Single click to toggle visibility. Icon state reflects current filter state.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:24:54.630544634-05:00","updated_at":"2025-12-20T21:56:16.131284677-05:00","closed_at":"2025-12-20T21:56:16.131284677-05:00","dependencies":[{"issue_id":"otl-5vt","depends_on_id":"otl-un4","type":"blocks","created_at":"2025-12-19T21:25:01.22627332-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-62l","title":"Tags System","description":"Full tag support beyond basic hashtag styling.\n\nCurrent state: #hashtags are detected, styled, and clickable (opens search).\n\nRemaining:\n- Tag panel/sidebar listing all tags\n- Filter view by tag\n- Tag autocomplete when typing #\n- Tag management (rename, merge)","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-18T20:48:18.696448045-05:00","updated_at":"2025-12-18T22:20:10.643822221-05:00","closed_at":"2025-12-18T22:20:10.643822221-05:00","dependencies":[{"issue_id":"otl-62l","depends_on_id":"otl-5en","type":"blocks","created_at":"2025-12-18T22:14:33.423131555-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-62l","depends_on_id":"otl-3gw","type":"blocks","created_at":"2025-12-18T22:14:33.438377276-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-661","title":"Build error: PostCSS parsing script as CSS in +page.svelte","description":"Vite/PostCSS error treating \u003cscript\u003e block as CSS. Error: 'Unknown word onMount' at +page.svelte. PostCSS is trying to parse the script imports as CSS rules. Likely cause: malformed or missing \u003cstyle\u003e tag, unclosed tag, or syntax error causing Svelte to misparse file section boundaries. Check +page.svelte for unclosed tags or style block issues.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T23:37:51.926909984-05:00","updated_at":"2025-12-18T23:53:35.539757098-05:00","closed_at":"2025-12-18T23:53:35.539757098-05:00"}
{"id":"otl-69t","title":"Evaluate Svelte 5 + TipTap for outliner frontend","description":"Write a proposal document evaluating Svelte 5 (with Runes) + TipTap as the frontend framework for the Tauri outliner.\n\n**First read dynalist-replacement-features.md to understand the full feature requirements.**\n\nEvaluate against the full feature set:\n- Core outliner (infinite nesting, zoom/hoisting, collapse/expand, drag-drop)\n- Node types (bullets, checkboxes, headings, numbered lists)\n- Rich text (markdown, inline links, images, LaTeX)\n- Links \u0026 mirrors ([[internal links]], backlinks, ((node mirrors)))\n- Task management (checkboxes, natural language dates, recurring tasks)\n- Search (full-text, filtered by tag/date/color)\n- Keyboard-first design\n- Views \u0026 themes\n\nDocument should cover:\n1. How Svelte 5 + TipTap addresses each feature area\n2. Svelte 5 Runes and fine-grained reactivity benefits\n3. Specific libraries/packages for each need (svelte-dnd-action, etc.)\n4. Code examples for key patterns\n5. Performance considerations (compiler-based approach)\n6. TipTap/Svelte integration (official support status)\n7. Tauri integration approach\n8. Risks and mitigations (Svelte 5 newness, ecosystem catching up)\n9. Ecosystem maturity assessment\n\nOutput: docs/proposal-svelte5-tiptap.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T21:58:11.70585401-05:00","updated_at":"2025-12-09T22:21:33.591462345-05:00","closed_at":"2025-12-09T22:21:33.591462345-05:00"}
{"id":"otl-6c2","title":"Phase 5: Tasks \u0026 Dates","description":"Task management with calendar integration.\n\nSubtasks:\n- 5.1 Checkboxes (toggle, strikethrough, hide/show)\n- 5.2 Dates (date picker, natural language parsing)\n- 5.3 Date Views (Today, Upcoming, Overdue)\n- 5.4 Recurring Tasks (RRULE, auto-create next)\n- 5.5 iCalendar Feed (generate feed.ics on save)\n\nMilestone: Replace task manager. Subscribe to calendar in Google Calendar.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T19:26:05.310377883-05:00","updated_at":"2025-12-12T11:53:17.107780291-05:00","closed_at":"2025-12-12T11:53:17.107780291-05:00","dependencies":[{"issue_id":"otl-6c2","depends_on_id":"otl-0j2","type":"blocks","created_at":"2025-12-11T19:28:32.399987302-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6c2.1","title":"5.1 Checkbox UI and toggle functionality","description":"Implement checkbox rendering in OutlineItem with:\n- Visual checkbox before content (when node_type=checkbox)\n- Click to toggle is_checked state\n- Keyboard shortcut Ctrl+Enter to toggle\n- Strikethrough styling when checked\n- Ctrl+Shift+C to convert bullet to checkbox and back","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T11:40:39.162705921-05:00","updated_at":"2025-12-12T11:42:13.118225275-05:00","closed_at":"2025-12-12T11:42:13.118225275-05:00","dependencies":[{"issue_id":"otl-6c2.1","depends_on_id":"otl-6c2","type":"parent-child","created_at":"2025-12-12T11:40:39.164115203-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6c2.2","title":"5.2 Date picker and date badge display","description":"Implement date input and display:\n- DateBadge component showing date inline after content\n- Date picker popup triggered by !d or Ctrl+D\n- Natural language parsing (today, tomorrow, next week, jan 15)\n- Color coding: overdue=red, today=orange, upcoming=blue\n- Click date badge to edit","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:40:45.778202898-05:00","updated_at":"2025-12-12T11:45:18.74168497-05:00","closed_at":"2025-12-12T11:45:18.74168497-05:00","dependencies":[{"issue_id":"otl-6c2.2","depends_on_id":"otl-6c2","type":"parent-child","created_at":"2025-12-12T11:40:45.779360747-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-6c2.2","depends_on_id":"otl-6c2.1","type":"blocks","created_at":"2025-12-12T11:41:06.329082124-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6c2.3","title":"5.3 Date views (Today, Upcoming, Overdue)","description":"Create date-filtered views:\n- Today view: items with date=today\n- Upcoming view: items with date in next 7 days\n- Overdue view: items with date \u003c today and !is_checked\n- Sidebar or modal UI to access views\n- Keyboard shortcuts for quick access","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:40:50.232227483-05:00","updated_at":"2025-12-12T11:47:18.979017232-05:00","closed_at":"2025-12-12T11:47:18.979017232-05:00","dependencies":[{"issue_id":"otl-6c2.3","depends_on_id":"otl-6c2","type":"parent-child","created_at":"2025-12-12T11:40:50.233029991-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-6c2.3","depends_on_id":"otl-6c2.2","type":"blocks","created_at":"2025-12-12T11:41:06.342918031-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6c2.4","title":"5.4 Recurring tasks with RRULE","description":"Implement recurring task support:\n- Store recurrence rule in date_recurrence field (RRULE format)\n- UI to set recurrence (daily, weekly, monthly patterns)\n- On task completion, auto-create next occurrence\n- Visual indicator for recurring tasks\n- Use rrule crate in Rust for calculation","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T11:40:55.025822919-05:00","updated_at":"2025-12-12T11:51:15.084878606-05:00","closed_at":"2025-12-12T11:51:15.084878606-05:00","dependencies":[{"issue_id":"otl-6c2.4","depends_on_id":"otl-6c2","type":"parent-child","created_at":"2025-12-12T11:40:55.027061482-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-6c2.4","depends_on_id":"otl-6c2.2","type":"blocks","created_at":"2025-12-12T11:41:06.356509585-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6c2.5","title":"5.5 iCalendar feed generation","description":"Generate iCalendar feed for external calendar apps:\n- Create VCALENDAR with VEVENT entries for dated items\n- Support RRULE for recurring events\n- Write to feed.ics in data directory\n- Tauri command to generate/refresh feed\n- Optional: serve via local HTTP endpoint","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T11:41:02.784250384-05:00","updated_at":"2025-12-12T11:52:56.499561451-05:00","closed_at":"2025-12-12T11:52:56.499561451-05:00","dependencies":[{"issue_id":"otl-6c2.5","depends_on_id":"otl-6c2","type":"parent-child","created_at":"2025-12-12T11:41:02.784839455-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-6c2.5","depends_on_id":"otl-6c2.2","type":"blocks","created_at":"2025-12-12T11:41:06.372242037-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6du","title":"Down arrow with no selection should select first item in outline","description":"## Problem\n\nWhen the main outline view has no selected item (e.g., after zooming into a node with `Ctrl-]`), pressing the down arrow key does nothing.\n\n## Expected Behavior\n\nPressing down arrow when no item is selected should select the first visible item in the list.\n\n## Reproduction\n\n1. Open an outline with multiple items\n2. Zoom into an item with `Ctrl-]`\n3. Press down arrow\n4. **Current**: Nothing happens\n5. **Expected**: First item becomes selected\n\n## Edge Cases\n\n- **Empty list**: Do nothing (no items to select)\n- **Up arrow**: Out of scope for this issue (only handling down arrow)\n\n## Notes\n\nThis may apply to other scenarios where selection is lost (document switch, search navigation, etc.) - behavior should be consistent across all cases where the primary outline has no selection.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-27T18:19:14.665977927-05:00","created_by":"andy","updated_at":"2025-12-27T18:31:12.705890699-05:00","closed_at":"2025-12-27T18:31:12.705890699-05:00","close_reason":"Fixed: ArrowDown now selects first visible item when no item is focused or when focused item is not visible (e.g., after zooming). Commit 4cb1ae7."}
{"id":"otl-6hc","title":"Feature: Ctrl+] to zoom into current node","description":"## Description\nAdd keyboard shortcut Ctrl+] to zoom into the current node's subtree.\n\n## Behavior\n- Ctrl+] on a node with children → zoom to show only that subtree\n- Ctrl+[ → zoom out one level (or to root)\n- Same as double-click zoom (otl-yap) but via keyboard\n\n## Implementation\nAdd to OutlineItem.svelte handleKeyDown:\n```ts\n// Ctrl+] : zoom in\nif (event.key === ']' \u0026\u0026 mod) {\n  event.preventDefault();\n  outline.zoomTo(nodeId);  // needs to be implemented\n  return true;\n}\n\n// Ctrl+[ : zoom out\nif (event.key === '[' \u0026\u0026 mod) {\n  event.preventDefault();\n  outline.zoomOut();  // needs to be implemented\n  return true;\n}\n```\n\n## Related\n- otl-yap: Double-click bullet to zoom into subtree (same feature, different trigger)\n\n## Files\n- app/src/lib/OutlineItem.svelte (keyboard handler)\n- app/src/lib/outline.svelte.ts (add zoomTo/zoomOut methods)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T19:36:38.541743137-05:00","updated_at":"2025-12-21T19:43:09.42164823-05:00","closed_at":"2025-12-21T19:43:09.42164823-05:00","dependencies":[{"issue_id":"otl-6hc","depends_on_id":"otl-yap","type":"blocks","created_at":"2025-12-21T19:36:44.302273364-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6p6","title":"2.4 Multi-Document support with sidebar","description":"Add sidebar for document navigation. Store document list in meta.jsonl. Allow creating, switching, renaming, deleting documents.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-12T10:44:56.985971339-05:00","updated_at":"2025-12-12T10:48:32.131437139-05:00","closed_at":"2025-12-12T10:48:32.131437139-05:00","dependencies":[{"issue_id":"otl-6p6","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-12T10:45:00.872755964-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-6s6","title":"Enter key should split item at cursor position","description":"## Current Behavior\n\nPressing Enter always creates a new blank item below the current one, regardless of cursor position.\n\n## Expected Behavior\n\nEnter behavior depends on cursor position:\n\n### Cursor at end of line (current behavior)\n- Create new blank item below\n- Focus moves to new item\n- ✅ Already works\n\n### Cursor in middle of item\n- Split item at cursor position\n- Text before cursor stays in original item\n- Text after cursor moves to new item below\n- Focus moves to new item (at beginning)\n\n### Cursor at beginning of item\n- Create new blank item above\n- All content stays in original item (effectively inserts blank line above)\n- Focus stays on... original? or moves to blank? (TBD)\n\n## Split Rules\n\n### Formatting\n- Both halves preserve formatting\n- If splitting `**some te|xt**` → `**some te**` and `**xt**`\n\n### Notes\n- Notes stay with the original item (first half)\n- New item has no note\n\n### Children\n- Children move to the new item (second half)\n- Rationale: The \"continuation\" of the item is the new one\n\n## Example\n\nBefore (cursor at `|`):\n```\n- Buy groceries and pick| up dry cleaning\n  - Note: Don't forget coupons\n  - Child task 1\n  - Child task 2\n```\n\nAfter pressing Enter:\n```\n- Buy groceries and pick\n  - Note: Don't forget coupons\n- up dry cleaning\n  - Child task 1\n  - Child task 2\n```\n\n## Implementation Notes\n\n- Need to detect cursor position within TipTap editor\n- Use TipTap `split` or manual content slicing\n- May need transaction to update both nodes atomically","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:55:53.436897729-05:00","created_by":"andy","updated_at":"2025-12-27T21:45:23.184516684-05:00"}
{"id":"otl-704","title":"Auto-link URLs in note field","description":"## Problem\nURLs in the note field (e.g., shopping links) are displayed as plain text and not clickable.\n\n## Current Behavior\n- Main content uses TipTap with `AutoLink` extension → URLs are clickable\n- Note field uses plain `\u003ctextarea\u003e` + `\u003cspan\u003e{item.node.note}\u003c/span\u003e` → URLs are plain text\n\n## Expected Behavior\nURLs in notes should be:\n- Rendered as clickable links in display mode\n- Open in browser on click (or Ctrl+click for safety)\n\n## Implementation Notes\n- Existing `URL_PATTERN` regex in `app/src/lib/AutoLink.ts:11` can be reused\n- Note display is at `app/src/lib/OutlineItem.svelte:1060-1063`\n- Options:\n  1. Parse note text and render URLs as `\u003ca\u003e` tags (simpler)\n  2. Use lightweight TipTap for notes (more complex, better consistency)\n\nOption 1 is probably sufficient since notes don't need wiki-links or other rich features.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T00:22:38.795160321-05:00","updated_at":"2025-12-21T13:16:50.824224381-05:00","closed_at":"2025-12-21T13:16:50.824224381-05:00"}
{"id":"otl-7ad","title":"Phase 8: Polish \u0026 Edge Cases","description":"Production-ready. Handle all the weird stuff.\n\nSubtasks:\n- 8.1 Undo/Redo (operation history, Ctrl+Z/Y)\n- 8.2 Rich Text (bold, italic, code blocks, images)\n- 8.3 Node Notes (supplementary text, Shift+Enter)\n- 8.4 Settings (shortcuts, theme, font, data dir)\n- 8.5 Error Handling (corrupt files, crash recovery)\n- 8.6 Performance (virtualization, lazy loading)\n\nMilestone: Reliable daily driver. No data loss scenarios.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-11T19:26:05.659165778-05:00","updated_at":"2025-12-20T22:09:20.418599633-05:00","closed_at":"2025-12-20T22:09:20.418599633-05:00","dependencies":[{"issue_id":"otl-7ad","depends_on_id":"otl-u4h","type":"blocks","created_at":"2025-12-11T19:28:32.441026946-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-7do","title":"we need to think of auto-save and auto-reload","description":"because we want to use somethign like dropbox/nextcloud for the syncing, we should be writing and reading whenever we receive or observe changes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:56:51.170110841-05:00","updated_at":"2025-12-18T20:32:41.331357424-05:00","closed_at":"2025-12-18T20:32:41.331357424-05:00"}
{"id":"otl-7hw","title":"Statistics footer (word count, item count)","description":"Display statistics at bottom of document: word count, item count, notes count, etc. Like Dynalist's '15,958 words  11,113 in items  4,845 in notes  1,707 items' footer.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-19T21:24:54.284111745-05:00","updated_at":"2025-12-20T22:01:12.693770339-05:00","closed_at":"2025-12-20T22:01:12.693770339-05:00"}
{"id":"otl-808","title":"6.1 Server Setup - Ruby Sinatra with nginx and basic auth","description":"Set up the thin server infrastructure:\n- Create Ruby Sinatra application skeleton\n- Configure nginx reverse proxy\n- Implement basic auth for /outline/* endpoints\n- Token-based auth for calendar feeds\n- Serve from synced JSONL folder location","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:03:22.913338089-05:00","updated_at":"2025-12-12T12:07:17.824549824-05:00","closed_at":"2025-12-12T12:07:17.824549824-05:00"}
{"id":"otl-809","title":"Tests: Sidebar and document switching","description":"Test sidebar:\n- Toggle sidebar button\n- Document list shows all documents\n- Document shows title and item count\n- Click document switches to it\n- New document button\n- Close sidebar button","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.721297556-05:00","updated_at":"2025-12-19T22:55:12.376299913-05:00","closed_at":"2025-12-19T22:55:12.376299913-05:00"}
{"id":"otl-8aq","title":"Implement due dates with \\!(YYYY-MM-DD) format and calendar picker","description":"Add due date support using \\!(2025-12-18) format. When user types '\\!' character, pop up a calendar picker to select the date. Likely involves a TipTap input rule (similar to WikiLink.ts for [[links]]), a calendar picker component, and styling for rendered due dates. May also need backend support for date indexing/filtering later.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:18:04.688512837-05:00","updated_at":"2025-12-18T22:44:50.146577341-05:00","closed_at":"2025-12-18T22:44:50.146577341-05:00"}
{"id":"otl-8ax","title":"Inline date picker doesn't save when dismissed by clicking outside","description":"## Problem\n\nWhen using the inline date picker (`!(date)` popup), selecting a date option like \"tomorrow\" or \"next week\" updates the display within the popout, but the change is not persisted when dismissing the dialog by clicking outside.\n\n## Reproduction\n\n1. Type `!(` to open the inline date suggestion popup\n2. Click a relative date option (e.g., \"tomorrow\", \"next week\") or use natural language input\n3. The date in the popout visually updates\n4. Click outside to dismiss the popup\n5. **Bug**: The item still shows the old date (or no date)\n6. Switching to another document and back does not fix it - change was never saved\n\n## Expected Behavior\n\nSelecting a date option should immediately persist the change, so when the popup is dismissed the item reflects the new date.\n\n## Questions to Investigate\n\n- Does pressing Enter to confirm work correctly?\n- Does the calendar date picker have the same issue?\n- Is the change being sent to the backend at all, or just updating local UI state?\n\n## Likely Cause\n\nThe popup is updating its internal display state but not calling the save/update function until some specific \"confirm\" action that doesn't happen when clicking outside.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T18:40:28.08585922-05:00","created_by":"andy","updated_at":"2025-12-27T18:52:20.982551742-05:00","closed_at":"2025-12-27T18:52:20.982551742-05:00","close_reason":"Added click-outside handler to DueDateSuggestion.svelte that saves the currently selected date when clicking outside the popup"}
{"id":"otl-8b9","title":"Tests: Checkboxes and completion","description":"Test task features:\n- Ctrl+Enter toggles completion\n- Ctrl+Shift+C toggles bullet/checkbox type\n- Typing [ ] or [x] converts to checkbox\n- Completed items show strikethrough\n- Checkbox visual states (checked/unchecked)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.564858487-05:00","updated_at":"2025-12-19T22:24:57.661167007-05:00","closed_at":"2025-12-19T22:24:57.661167007-05:00"}
{"id":"otl-8dt","title":"Add theme support with light/dark modes and semantic color tokens","description":"Implement theme system with light and dark modes. Use semantic color tokens: primary_text_color, secondary_text_color, primary_background, selected_background, etc. Should be switchable (toolbar icon or settings). Persist theme preference. CSS custom properties or similar for easy theming.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:29:15.359482983-05:00","updated_at":"2025-12-18T23:48:32.80583206-05:00","closed_at":"2025-12-18T23:48:32.80583206-05:00","dependencies":[{"issue_id":"otl-8dt","depends_on_id":"otl-d08","type":"blocks","created_at":"2025-12-18T22:33:11.722700204-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-8m7","title":"6.5 Inbox Processing - Desktop badge and drag to target","description":"Desktop integration for captured items:\n- Show inbox badge/count in desktop UI\n- Display inbox items in a panel\n- Drag and drop to move items to target location\n- Clear processed items from inbox.jsonl\n- Sync-aware inbox handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:03:23.35679237-05:00","updated_at":"2025-12-12T12:30:03.184996587-05:00","closed_at":"2025-12-12T12:30:03.184996587-05:00","dependencies":[{"issue_id":"otl-8m7","depends_on_id":"otl-9ut","type":"blocks","created_at":"2025-12-12T12:09:38.237759228-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-8x9","title":"Import documents from Dynalist OPML export","description":"Add OPML import to bring in documents from Dynalist exports. Reference files in tmp/*.opml for format examples. Should create a new document from the imported OPML hierarchy. Add to File menu alongside OPML export (otl-cik).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T20:43:55.143825547-05:00","updated_at":"2025-12-19T21:03:43.004766942-05:00","closed_at":"2025-12-19T21:03:43.004766942-05:00"}
{"id":"otl-92t","title":"Add Nibbler logo as favicon and branding","description":"## Overview\nAdd the Nibbler logo (`~/cloud/nibblerss-128.png`) as the app favicon and branding element throughout the UI.\n\n## Source\n- **File**: `~/cloud/nibblerss-128.png` (128x128 PNG, transparent background)\n- **Character**: Black silhouette of Nibbler with antenna/signal waves\n- **Problem**: Black logo invisible on dark backgrounds\n\n## Tasks\n\n### 1. Favicon (web)\n- Copy logo to `app/static/favicon.png`\n- Add `\u003clink rel=\"icon\"\u003e` to `app/src/app.html`\n- Consider generating 16x16, 32x32 sizes for crisp rendering\n\n### 2. Tauri desktop icons\n- Replace placeholder icons in `app/src-tauri/icons/`\n- Generate required sizes: 32x32, 128x128, 128x128@2x, icon.ico, icon.icns\n- Generate Windows Store logos (Square*.png, StoreLogo.png)\n\n### 3. UI branding placements\n- **Sidebar header**: Small logo at top of sidebar\n- **Empty state**: Show Nibbler when document has no items\n- **Menu bar**: Small logo before \"File\" menu (optional)\n- **About dialog**: Create if doesn't exist, feature logo prominently\n\n### 4. Dark mode handling\nUse CSS to add a subtle white circular background behind the logo only in dark mode:\n```css\n:global(.dark) .nibbler-logo {\n  background: white;\n  border-radius: 50%;\n  padding: 2px;\n}\n```\nThis avoids needing two versions of the image.\n\n## Acceptance criteria\n- [ ] Favicon shows in browser tab\n- [ ] Tauri app has Nibbler icon in dock/taskbar\n- [ ] Logo visible in at least one UI location (sidebar or empty state)\n- [ ] Logo remains visible in both light and dark modes","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-27T18:01:01.427537963-05:00","created_by":"andy","updated_at":"2025-12-27T18:05:17.305124372-05:00","closed_at":"2025-12-27T18:05:17.305124372-05:00","close_reason":"Created in wrong project - should be in ~/projects/nibblerss"}
{"id":"otl-9a2","title":"4.5 Backlinks - Track and display incoming links","description":"Track links between nodes and show backlinks panel.\n\nAcceptance criteria:\n- Extract links on save, store in global/links.jsonl\n- Backlinks panel showing 'N items link here'\n- Click backlink to navigate to source node\n- Links update when nodes are edited/deleted","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:24:39.334482107-05:00","updated_at":"2025-12-12T11:36:28.332605498-05:00","closed_at":"2025-12-12T11:36:28.332605498-05:00","dependencies":[{"issue_id":"otl-9a2","depends_on_id":"otl-pfy","type":"blocks","created_at":"2025-12-12T11:24:45.458729151-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-9mh","title":"Export selection to markdown file","description":"## Overview\n\nExport selected items (and their incomplete children) to a markdown file via native file picker.\n\n## Workflow\n\n1. Select items using multi-select\n2. Trigger export (keyboard shortcut TBD, or menu option)\n3. Native file picker opens with generated filename\n4. Choose location (remembered for next time)\n5. Save file\n6. Selection maintained after export (enables delete workflow)\n\n## File Picker Behavior\n\n- **Generated filename**: Based on first item content, truncated, sanitized for filesystem\n- **Default location**: Last used export folder (stored in local prefs)\n- **Format**: `.md` extension\n\n## Conflict Handling\n\nIf file exists at chosen path:\n- Detect conflict before writing\n- Offer: Overwrite / Rename\n- Rename appends incrementing index: `filename (1).md`, `filename (2).md`, etc.\n\n## What Gets Exported\n\n- All selected items\n- All incomplete children of selected items (regardless of collapsed state)\n- Completed children excluded? (or make this configurable?)\n\n## Post-Export\n\n- Selection remains active\n- User can then Shift-Delete to remove exported items\n- This enables full \"move to Obsidian\" workflow\n\n## Dependencies\n\nRequires multi-select infrastructure.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:49:58.709555514-05:00","created_by":"andy","updated_at":"2025-12-27T18:49:58.709555514-05:00","dependencies":[{"issue_id":"otl-9mh","depends_on_id":"otl-dah","type":"blocks","created_at":"2025-12-27T18:51:02.313976447-05:00","created_by":"andy"}]}
{"id":"otl-9nd","title":"Add Ctrl+= / Ctrl+- for zoom in/out","description":"Implement zoom controls: Ctrl+= (or Ctrl++) to increase size of everything, Ctrl+- to decrease. Should scale the entire UI proportionally. Persist zoom level preference. Consider also adding Ctrl+0 to reset to default zoom.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T23:58:22.368402691-05:00","updated_at":"2025-12-19T20:47:30.650776696-05:00","closed_at":"2025-12-19T20:47:30.650776696-05:00"}
{"id":"otl-9o7","title":"1.1 Add Tauri 2 to SvelteKit prototype","description":"Convert the existing SvelteKit+TipTap prototype into a Tauri 2 desktop app.\n\nAcceptance criteria:\n- Add Tauri 2 to the prototype directory (or create new project)\n- Configure for static adapter (no SSR)\n- Verify the app runs as a desktop window\n- TypeScript, ESLint, Prettier all working\n\nThe SvelteKit+TipTap+Svelte5 setup already exists and works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T19:33:51.749889845-05:00","updated_at":"2025-12-11T19:55:53.436051857-05:00","closed_at":"2025-12-11T19:55:53.436051857-05:00"}
{"id":"otl-9qw","title":"Tests: Date picker (Ctrl+D)","description":"Test date picker modal:\n- Ctrl+D opens picker\n- Calendar navigation\n- Select date\n- Clear date (Ctrl+Shift+D)\n- Date badge appears after setting\n- Click badge to edit date","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.638302225-05:00","updated_at":"2025-12-19T22:37:41.897600512-05:00","closed_at":"2025-12-19T22:37:41.897600512-05:00"}
{"id":"otl-9ut","title":"Quick Move (Ctrl+Shift+M) - Relocate item with search picker","description":"Add keyboard shortcut (Ctrl+Shift+M) to quickly move/refile the current item to a different location using a fuzzy search picker.\n\nWhen triggered:\n1. Opens modal similar to Quick Navigator (Ctrl+Shift+O)\n2. User searches for destination node (any item in any document)\n3. Selected destination becomes new parent of current item\n4. Item is moved to end of destination's children\n\nCritical for inbox processing workflow - allows rapidly triaging captured items to their proper locations without mouse-based drag/drop.\n\nRelated: 6.5 Inbox Processing needs this for efficient inbox clearing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-12T12:09:32.922717705-05:00","updated_at":"2025-12-12T12:26:03.284575691-05:00","closed_at":"2025-12-12T12:26:03.284575691-05:00"}
{"id":"otl-9x5","title":"DateBadge color changes based on urgency (yellow/orange/red)","description":"DateBadge component should change colors based on proximity to due date: yellow when within 2 weeks, orange when within 1 week, red when past due. Default/neutral color for dates further out. Colors should work with theme system (otl-8dt).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:32:26.038221216-05:00","updated_at":"2025-12-19T00:06:54.546689102-05:00","closed_at":"2025-12-19T00:06:54.546689102-05:00"}
{"id":"otl-a4q","title":"Add Playwright e2e tests for keyboard shortcuts","description":"Set up Playwright for end-to-end testing. Key scenarios: Tab/Shift+Tab indent/outdent, Enter for new sibling, arrow navigation, collapse toggle. E2E tests will catch browser-level event handling issues that unit tests miss.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T22:52:10.047927758-05:00","updated_at":"2025-12-12T10:28:41.120443957-05:00","closed_at":"2025-12-12T10:28:41.120443957-05:00"}
{"id":"otl-a58","title":"Add View menu with theme toggle","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:53:42.544619678-05:00","updated_at":"2025-12-18T23:55:11.873221039-05:00","closed_at":"2025-12-18T23:55:11.873221039-05:00"}
{"id":"otl-b3o","title":"Shift-up/shift-down stops working after a few uses","description":"Bug: Using shift-up or shift-down (likely for multi-selection or moving items) works initially but stops responding after a few consecutive uses. May be a state issue, event handler getting unbound, or selection state corruption.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T22:30:20.133840487-05:00","updated_at":"2025-12-18T23:26:36.30978832-05:00","closed_at":"2025-12-18T23:26:36.30978832-05:00"}
{"id":"otl-big","title":"Tests: Search (Ctrl+F)","description":"Test search modal:\n- Ctrl+F opens search\n- Typing shows results\n- Results show snippets with highlights\n- Click result navigates to item\n- Escape closes search\n- Search within current document","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.69924176-05:00","updated_at":"2025-12-19T22:44:48.60722613-05:00","closed_at":"2025-12-19T22:44:48.60722613-05:00"}
{"id":"otl-bkz","title":"Tests: Tags panel","description":"Test tags panel:\n- Ctrl+Shift+G opens tags panel\n- Lists all hashtags in document\n- Shows count per tag\n- Click tag filters/searches","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.782011473-05:00","updated_at":"2025-12-19T22:57:44.874802603-05:00","closed_at":"2025-12-19T22:57:44.874802603-05:00"}
{"id":"otl-boz","title":"Add vertical indent guide lines from bullet down","description":"Add vertical lines from each bullet extending downward to show indentation level and parent-child relationships. Lines make it visually obvious which children belong to which parent. Common in outliners (Workflowy, Logseq) and code editors. Should use theme colors (subtle, not distracting). Lines connect bullet to its last descendant at that indent level.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T00:04:03.062299937-05:00","updated_at":"2025-12-19T21:05:34.58475565-05:00","closed_at":"2025-12-19T21:05:34.58475565-05:00"}
{"id":"otl-bxr","title":"Research Loro's movable tree CRDT for outliner data model","description":"Deep dive into Loro's movable tree implementation to evaluate fit for this project.\n\nKey questions to answer:\n1. How does Loro's movable tree handle concurrent move operations?\n2. What's the storage format? Can we export human-readable snapshots?\n3. How does compaction/garbage collection work?\n4. What are the Rust API ergonomics like?\n5. How would it integrate with Tauri?\n6. Can we layer JSONL archival export on top of Loro's binary format?\n7. What's the performance profile for typical outliner operations (10k-100k nodes)?\n8. How does it handle the mirror/transclusion use case from our spec?\n\nReferences:\n- https://github.com/loro-dev/loro\n- architecture-data-format.md (CRDT section)\n- dynalist-replacement-features.md (feature requirements)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T21:26:38.042448123-05:00","updated_at":"2025-12-09T21:40:49.520689507-05:00","closed_at":"2025-12-09T21:40:49.520689507-05:00"}
{"id":"otl-cdi","title":"Phase 2: Navigation \u0026 Polish","description":"Feels like a real outliner. Keyboard-driven, collapse/expand, zoom.\n\nSubtasks:\n- 2.1 Collapse/Expand (Ctrl+., persist state)\n- 2.2 Zoom/Hoisting (Ctrl+]/[, breadcrumbs)\n- 2.3 Keyboard Navigation (arrows, Enter, Home/End)\n- 2.4 Multi-Document (sidebar, meta.jsonl)\n- 2.5 Visual Polish (indent lines, themes)\n\nMilestone: Comfortable daily use for note-taking. Can reorganize freely.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T19:26:04.95438335-05:00","updated_at":"2025-12-12T10:48:48.849840914-05:00","closed_at":"2025-12-12T10:48:48.849840914-05:00","dependencies":[{"issue_id":"otl-cdi","depends_on_id":"otl-1x9","type":"blocks","created_at":"2025-12-11T19:28:32.356641135-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-cds","title":"Fix flaky test: settings.spec.ts:85 theme buttons are visible and work","description":"Test 'theme buttons are visible and work' in settings.spec.ts fails looking for '.theme-btn:has-text(\"Light\")'.\n\nThe element is not found - either the selector is wrong or the theme buttons UI has changed. Need to verify the settings modal structure and update the test accordingly.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-27T18:31:33.061822585-05:00","created_by":"andy","updated_at":"2025-12-27T19:05:35.172343325-05:00","closed_at":"2025-12-27T19:05:35.172343325-05:00","close_reason":"Fixed by updating test to use theme dropdown selector (#theme-select) instead of removed .theme-btn class, and corrected light theme assertion to check for absence of data-theme attribute"}
{"id":"otl-cik","title":"Add OPML export to File menu","description":"Add OPML export option to the File menu. OPML is a standard format for outline data, enabling interoperability with other outliners (Dynalist, Workflowy, OmniOutliner, etc.). Should export current document's hierarchy to .opml file.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:33:53.245090803-05:00","updated_at":"2025-12-18T23:30:04.328551771-05:00","closed_at":"2025-12-18T23:30:04.328551771-05:00"}
{"id":"otl-cke","title":"Status bar: show incomplete/total item count","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T21:15:30.631061682-05:00","updated_at":"2025-12-19T21:20:47.438920462-05:00","closed_at":"2025-12-19T21:20:47.438920462-05:00"}
{"id":"otl-cmc","title":"Make #tags clickable to search for that tag","description":"Clicking a #tag in content should trigger a search for that tag. Requires: detecting/rendering #tags as clickable elements (possibly a TipTap mark or node), click handler that invokes search with the tag text. Depends on search functionality being wired up.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:18:29.749395725-05:00","updated_at":"2025-12-18T22:31:08.768091179-05:00","closed_at":"2025-12-18T22:31:08.768091179-05:00","dependencies":[{"issue_id":"otl-cmc","depends_on_id":"otl-wg0","type":"blocks","created_at":"2025-12-18T22:18:34.193746609-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-cmo","title":"Bug: Hashtag Enter inserts extra newline instead of inline tag","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T23:14:49.867725663-05:00","updated_at":"2025-12-19T23:18:56.091372573-05:00","closed_at":"2025-12-19T23:18:56.091372573-05:00"}
{"id":"otl-d08","title":"Use 70s retro desaturated color palette (vintage NASA aesthetic)","description":"Color scheme should use 70s retro, slightly desaturated colors - think vintage NASA shirts and mission patches. Avoid primary colors. Muted oranges, teals, mustards, dusty reds, olive greens. Applies to theme tokens, DateBadge urgency colors, tag/mention styling, etc. Reference: NASA worm logo era, vintage space program merchandise.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:33:07.874676979-05:00","updated_at":"2025-12-18T23:46:14.125824456-05:00","closed_at":"2025-12-18T23:46:14.125824456-05:00"}
{"id":"otl-d5a","title":"Add collapsible left sidebar with document listing view","description":"Add a collapsible left sidebar as a general UI container. Toggle via left-most toolbar icon. Sidebar will host multiple views - initially a document listing view for switching between outline files and creating new documents. Sidebar state (open/closed) should persist. Future views can be added to this sidebar framework.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:20:06.84772689-05:00","updated_at":"2025-12-18T23:21:17.513519345-05:00","closed_at":"2025-12-18T23:21:17.513519345-05:00"}
{"id":"otl-d7g","title":"6.3 Calendar Serving - GET /calendar/{token}/feed.ics","description":"Serve iCalendar feeds:\n- GET /calendar/{token}/feed.ics endpoint\n- Token validation from config\n- Serve static .ics file generated by desktop app\n- Proper Content-Type headers\n- Cache headers for calendar clients","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:03:23.141412063-05:00","updated_at":"2025-12-12T12:10:07.874077257-05:00","closed_at":"2025-12-12T12:10:07.874077257-05:00","dependencies":[{"issue_id":"otl-d7g","depends_on_id":"otl-808","type":"blocks","created_at":"2025-12-12T12:03:33.109114455-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-d7r","title":"Enter key in date picker inserts unwanted newline","description":"When selecting a relative date from the !( triggered date picker menu, pressing Enter to confirm selection also inserts a newline into the outline item. Enter should only select the date and insert the date widget - the keypress should be consumed/prevented from propagating to the editor.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T23:57:10.60585069-05:00","updated_at":"2025-12-19T20:45:14.248098166-05:00","closed_at":"2025-12-19T20:45:14.248098166-05:00"}
{"id":"otl-dah","title":"Multi-select infrastructure","description":"## Overview\n\nAdd the ability to select multiple items in the outline, enabling bulk operations.\n\n## Selection Mechanics\n\n- **Shift-click**: Select range from current selection to clicked item\n- **Ctrl-click** (Cmd on Mac): Toggle individual item selection\n- **Ctrl-A**: Select all visible items (or all items in current zoom level?)\n- **Escape**: Clear selection\n- **Click**: Single select (clears multi-selection)\n\n## Visual Indication\n\n- Selected items need distinct styling (background highlight, border, etc.)\n- Should be clearly distinguishable from single-item focus/cursor\n- Consider selection count indicator somewhere in UI\n\n## State Management\n\n- Selection state needs to be reactive (Svelte store or similar)\n- Selection should be an array/set of node IDs\n- Need to handle edge cases:\n  - Selected item gets deleted by another operation\n  - Selected item moves (does selection follow?)\n  - Zoom in/out (clear selection? filter to visible?)\n\n## API Surface\n\nExpose selection state and operations for other features:\n- `selectedIds: Set\u003cstring\u003e`\n- `selectRange(fromId, toId)`\n- `toggleSelection(id)`\n- `clearSelection()`\n- `selectAll()`\n\n## Notes\n\nThis is foundational infrastructure for bulk operations (move, indent, delete, export).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:49:48.256061119-05:00","created_by":"andy","updated_at":"2025-12-27T21:36:00.713904751-05:00","closed_at":"2025-12-27T21:36:00.713904751-05:00","close_reason":"Implemented multi-select infrastructure: Ctrl-click toggles, Shift-click ranges, Ctrl+A selects all, Escape clears. Added visual styling and 8 passing tests."}
{"id":"otl-diq","title":"Tests: Wiki links ([[) and backlinks","description":"Test internal linking:\n- Typing [[ opens suggestion popup\n- Typing filters suggestions\n- Enter/click selects suggestion\n- Wiki link renders as pill\n- Clicking wiki link navigates to target\n- Backlinks panel shows incoming links\n- Escape closes suggestion","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.582737753-05:00","updated_at":"2025-12-19T22:31:05.361431057-05:00","closed_at":"2025-12-19T22:31:05.361431057-05:00"}
{"id":"otl-dj5","title":"Visual flicker/reflow when clicking item shows extra line briefly","description":"When clicking on an item, there's a visible flicker - an extra line momentarily appears below the item causing a reflow. Quick but noticeable. Likely related to focus state, TipTap editor initialization, or CSS transition on selection. Check OutlineItem.svelte focus handling and editor mounting.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T23:59:29.199683558-05:00","updated_at":"2025-12-19T20:52:47.817218864-05:00","closed_at":"2025-12-19T20:52:47.817218864-05:00"}
{"id":"otl-dpq","title":"Move download iCal into File menu","description":"Relocate the download iCal functionality from its current location into the File menu for better organization.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:33:44.728127035-05:00","updated_at":"2025-12-18T23:30:04.309300646-05:00","closed_at":"2025-12-18T23:30:04.309300646-05:00"}
{"id":"otl-dw2","title":"Bullet styles vary by item state (expanded/collapsed/leaf)","description":"Different bullet styles based on item state: filled circle (●) for expanded items with children, circle with dot (◉) for collapsed items with children, empty/hollow circle (○) for leaf items with no children. Provides visual feedback about item structure at a glance.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:24:53.248882718-05:00","updated_at":"2025-12-20T21:32:04.701500923-05:00","closed_at":"2025-12-20T21:32:04.701500923-05:00"}
{"id":"otl-e8v","title":"Add Ctrl-Q keyboard shortcut for quit","description":"Implement Ctrl-Q as keyboard shortcut to quit the application. Standard shortcut users expect.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:53:15.787669669-05:00","updated_at":"2025-12-18T23:28:05.87016952-05:00","closed_at":"2025-12-18T23:28:05.87016952-05:00"}
{"id":"otl-ee0","title":"Click anywhere on line to focus item","description":"When clicking on blank space after text content on a line, the cursor should still be placed at the end of that item's text. Currently clicking in empty space doesn't focus the editor.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T22:09:11.885055821-05:00","updated_at":"2025-12-18T22:10:13.836472656-05:00","closed_at":"2025-12-18T22:10:13.836472656-05:00"}
{"id":"otl-ehj","title":"Export JSON backup","description":"Export full document state to JSON format for backup and restore. Should preserve all node data including metadata, dates, checkboxes, wiki-links.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T21:03:32.340006463-05:00","updated_at":"2025-12-18T21:10:11.208125297-05:00","closed_at":"2025-12-18T21:10:11.208125297-05:00"}
{"id":"otl-ey7","title":"4.2 Full-Text Search - Query UI and backend","description":"Add search command to backend and search UI to frontend.\n\nAcceptance criteria:\n- Tauri command: search(query, doc_id) returns Vec\u003cSearchResult\u003e\n- Search modal opens with Ctrl+Shift+F (global search)\n- Ctrl+F searches within current document\n- Results show node content with highlighted matches\n- Click result to navigate (switch doc + focus node)\n- Results ranked by relevance","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:24:38.990354022-05:00","updated_at":"2025-12-12T11:28:55.535483944-05:00","closed_at":"2025-12-12T11:28:55.535483944-05:00","dependencies":[{"issue_id":"otl-ey7","depends_on_id":"otl-mm1","type":"blocks","created_at":"2025-12-12T11:24:45.415750323-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-fos","title":"Add right-click context menu on items","description":"Add context menu (right-click) on outline items. Menu options should include: delete completed children (removes all completed descendants), and other common actions (delete, duplicate, copy, cut, paste, indent, dedent, move up/down, etc.).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T23:32:40.066110273-05:00","updated_at":"2025-12-19T20:55:50.023215594-05:00","closed_at":"2025-12-19T20:55:50.023215594-05:00","dependencies":[{"issue_id":"otl-fos","depends_on_id":"otl-un4","type":"blocks","created_at":"2025-12-18T23:32:43.624801161-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-fx1","title":"Phase 6: Thin Server","description":"Mobile capture and calendar serving.\n\nSubtasks:\n- 6.1 Server Setup (Ruby Sinatra, nginx, basic auth)\n- 6.2 Inbox Capture (POST /outline/inbox, mobile form)\n- 6.3 Calendar Serving (GET /calendar/{token}/feed.ics)\n- 6.4 Read-Only Viewer (static SPA, fetch state.json)\n- 6.5 Inbox Processing (desktop badge, drag to target)\n\nMilestone: Capture ideas from phone. Calendar subscribable.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T19:26:05.420225289-05:00","updated_at":"2025-12-12T12:30:20.304355368-05:00","closed_at":"2025-12-12T12:30:20.304355368-05:00","dependencies":[{"issue_id":"otl-fx1","depends_on_id":"otl-6c2","type":"blocks","created_at":"2025-12-11T19:28:32.415466361-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-gpl","title":"Import/Export","description":"Data portability for migration and backup.\n\nSubtasks:\n- Import OPML (from Dynalist/Workflowy)\n- Export OPML\n- Export Markdown\n- Export JSON backup","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-18T20:48:18.549539082-05:00","updated_at":"2025-12-18T21:10:21.007028061-05:00","closed_at":"2025-12-18T21:10:21.007028061-05:00","dependencies":[{"issue_id":"otl-gpl","depends_on_id":"otl-k0q","type":"blocks","created_at":"2025-12-18T21:03:51.563947358-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-gpl","depends_on_id":"otl-scf","type":"blocks","created_at":"2025-12-18T21:03:51.580126232-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-gpl","depends_on_id":"otl-s5c","type":"blocks","created_at":"2025-12-18T21:03:51.596646833-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-gpl","depends_on_id":"otl-ehj","type":"blocks","created_at":"2025-12-18T21:03:51.61149571-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-gr9","title":"Performance: Lazy rendering of collapsed node children","description":"Don't render children of collapsed nodes until the node is expanded. Currently we skip rendering in the template with `{#if !node.collapsed}`, but we could defer component creation entirely.\n\n**Considerations:**\n- Search/filtering needs access to all nodes for matching\n- Backlinks panel needs to find links in collapsed subtrees\n- May need to keep node data in memory but skip DOM rendering\n- Could conflict with or complement virtualization approach\n\n**Simpler than full virtualization** - just defer children until parent expands.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-19T22:07:49.195382762-05:00","updated_at":"2025-12-20T22:02:56.811983756-05:00","closed_at":"2025-12-20T22:02:56.811983756-05:00"}
{"id":"otl-h64","title":"4.3 Quick Navigation - File and Item Finder","description":"Implement quick navigation for documents and nodes.\n\nAcceptance criteria:\n- File Finder (Ctrl+O) - fuzzy match document titles\n- Item Finder (Ctrl+Shift+O) - fuzzy match all nodes\n- Recent documents list\n- Results update as user types\n- Enter to navigate to selected result","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:24:39.102617772-05:00","updated_at":"2025-12-12T11:31:29.009180001-05:00","closed_at":"2025-12-12T11:31:29.009180001-05:00","dependencies":[{"issue_id":"otl-h64","depends_on_id":"otl-mm1","type":"blocks","created_at":"2025-12-12T11:24:45.429920106-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-hgj","title":"Bug: Settings modal dropdowns unreadable in dark themes (white on white)","description":"## Problem\nIn dark themes (including gruvbox-dark), the dropdown select boxes in the Settings modal have white backgrounds, making white text unreadable.\n\n## Affected dropdowns\n- Theme selector\n- Font Size selector\n- Font Family selector\n- Auto-save Interval selector\n\n## Root cause\nSettingsModal.svelte line 465-479 defines `.setting-select` with:\n```css\n.setting-select {\n  background: var(--bg-secondary);\n  color: var(--text-primary);\n}\n```\n\nThe CSS variables are correct, but **native `\u003cselect\u003e` dropdown options** don't inherit CSS custom properties in most browsers. The dropdown popup uses browser-default styling (white background).\n\n## Fix options\n\n### Option A: Style the select element explicitly for dark mode\n```css\n[data-theme=\"dark\"] .setting-select,\n[data-theme=\"gruvbox-dark\"] .setting-select {\n  color-scheme: dark;\n}\n```\nThe `color-scheme: dark` property tells the browser to use dark styling for native controls.\n\n### Option B: Use custom dropdown component\nReplace native `\u003cselect\u003e` with a custom styled dropdown (more work, more control).\n\n## Files\n- app/src/lib/SettingsModal.svelte:465-479 (.setting-select styles)\n\n## Recommendation\nOption A is the quick fix. Add `color-scheme: dark` to dark theme variants.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T19:35:09.550163934-05:00","updated_at":"2025-12-21T19:40:01.934836259-05:00","closed_at":"2025-12-21T19:40:01.934836259-05:00"}
{"id":"otl-hl2","title":"Paste markdown lists as multiple outline items","description":"## Problem\n\nWhen pasting a markdown list into the outline, it currently pastes as a single item containing all the raw markdown text. This makes it tedious to import lists from external sources.\n\n## Expected Behavior\n\nPasting markdown content should intelligently parse and create multiple outline items:\n\n### List Items\n- `- item` or `* item` → bullet item\n- `- [ ] item` → unchecked checkbox item  \n- `- [x] item` → checked checkbox item\n\n### Hierarchy\nNested/indented markdown lists should become child items:\n```markdown\n- Parent\n  - Child 1\n  - Child 2\n```\n→ Parent with two children in outline hierarchy\n\n### Headers\n`# Header` lines become sibling items at the same level as list items (not parents).\n\n## Example Input\n\n```markdown\n# Flatpaks\n\n- [ ] \\`com.calibre_ebook.calibre\\` - E-book library management\n- [ ] \\`com.spotify.Client\\` - Spotify music streaming\n  - [ ] Configure offline playlists\n```\n\n## Expected Output\n\nThree outline items:\n1. \"Flatpaks\" (bullet)\n2. \"\\`com.calibre_ebook.calibre\\` - E-book library management\" (unchecked checkbox)\n3. \"\\`com.spotify.Client\\` - Spotify music streaming\" (unchecked checkbox)\n   - \"Configure offline playlists\" (unchecked checkbox, child of #3)\n\n## Implementation Notes\n\n- Likely needs a paste handler in TipTap that intercepts `text/plain` clipboard content\n- Parse markdown structure before inserting nodes\n- Preserve inline formatting (backticks, bold, links) within each item","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:26:19.502319098-05:00","created_by":"andy","updated_at":"2025-12-27T18:38:18.228796836-05:00","closed_at":"2025-12-27T18:38:18.228796836-05:00","close_reason":"Implemented: Pasting markdown lists now creates multiple outline items with proper hierarchy. Supports bullet lists, checkboxes, nested items, and inline formatting. Commit 568ab8b."}
{"id":"otl-hmp","title":"Unfocused items must render hashtags, mentions, links with styling and interaction","description":"TipTap is now only initialized when an item is focused (performance optimization). However, unfocused items still need to render #hashtags, @mentions, [[wiki-links]], markdown links, and dates with proper styling and click handlers. Need a lightweight rendering mode for unfocused items that parses content and renders these elements interactively without full TipTap overhead.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T23:39:20.630666776-05:00","updated_at":"2025-12-19T23:51:44.068021463-05:00","closed_at":"2025-12-19T23:51:44.068021463-05:00"}
{"id":"otl-hvf","title":"Tests: Context menu (right-click)","description":"Test context menu:\n- Right-click opens menu\n- Menu shows relevant actions\n- Click outside closes menu\n- Actions work (complete, convert, indent, delete)\n- Keyboard shortcuts shown","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.738098167-05:00","updated_at":"2025-12-19T22:49:32.98485673-05:00","closed_at":"2025-12-19T22:49:32.98485673-05:00"}
{"id":"otl-i61","title":"2.1 Persist collapse state to localStorage","description":"Save collapse state so it persists across page reloads. Store collapsed node IDs in localStorage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:40:04.50605604-05:00","updated_at":"2025-12-12T10:41:18.479906508-05:00","closed_at":"2025-12-12T10:41:18.479906508-05:00","dependencies":[{"issue_id":"otl-i61","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-12T10:40:08.290704282-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-ijm","title":"Change keyboard shortcuts helper from summary/details to modal or pop-out window","description":"Current: Keyboard shortcuts help is shown in a \u003csummary\u003e/\u003cdetails\u003e collapsible element.\n\nDesired: Display as either:\n- A modal dialog (overlay), or\n- A separate pop-out window\n\nThis will provide a cleaner UI and free up space in the main layout.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T19:33:37.482203992-05:00","updated_at":"2025-12-18T19:54:25.964703135-05:00","closed_at":"2025-12-18T19:54:25.964703135-05:00"}
{"id":"otl-iq2","title":"Add @mentions as styled clickable elements","description":"Words starting with @ should be recognized as @mentions. Style distinctly (different color from tags). Clickable - on click, filter document same as tags. TipTap mark or similar to identify and style @word patterns.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:30:58.831324263-05:00","updated_at":"2025-12-19T00:00:40.832675802-05:00","closed_at":"2025-12-19T00:00:40.832675802-05:00"}
{"id":"otl-j9x","title":"Tests: Drag and drop reordering","description":"Test drag and drop:\n- Drag handle initiates drag\n- Drop before/after indicators\n- Drop as child indicator\n- Reorder within same level\n- Move to different parent\n- Cannot drop on self or descendant","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.544772655-05:00","updated_at":"2025-12-19T22:53:46.517799137-05:00","closed_at":"2025-12-19T22:53:46.517799137-05:00"}
{"id":"otl-joi","title":"Perf: Profile delete operation with 2000+ nodes","description":"## Goal\nIdentify where time is spent when deleting a node in a large outline.\n\n## Steps\n1. Generate test data: `outline._generateTestNodes(2000)`\n2. Open Chrome DevTools Performance tab\n3. Start recording\n4. Delete an item (Ctrl+Shift+Backspace)\n5. Stop recording\n\n## Metrics to capture\n- Total delete time (already logged as `[perf] deleteNode`)\n- `buildTree` time (already logged when \u003e10ms)\n- `rebuildIndexes` time (already logged when \u003e5ms)\n- Svelte reconciliation time (DevTools 'Rendering' section)\n- DOM mutation time (DevTools 'Painting' section)\n\n## Expected output\nA breakdown like:\n```\nAPI call:        X ms\nrebuildIndexes:  X ms\nbuildTree:       X ms\nSvelte diffing:  X ms\nDOM mutations:   X ms\n```\n\nThis tells us where to focus optimization effort.\n\n## Blocked by\nNone - can start immediately\n\n## Blocks\notl-yxw (parent investigation issue)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T13:14:30.618898069-05:00","updated_at":"2025-12-21T18:34:46.09798508-05:00","closed_at":"2025-12-21T18:34:46.09798508-05:00"}
{"id":"otl-k0n","title":"Tests: Basic editing (create, delete, edit items)","description":"Test basic item manipulation:\n- Enter creates new sibling\n- Backspace on empty item deletes it\n- Ctrl+Shift+Backspace deletes item\n- Typing in editor updates content\n- Click to focus item","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.487673708-05:00","updated_at":"2025-12-19T22:21:55.335278884-05:00","closed_at":"2025-12-19T22:21:55.335278884-05:00"}
{"id":"otl-k0q","title":"Import OPML (from Dynalist/Workflowy)","description":"Parse OPML files and convert to outline nodes. Should handle: outline nodes with text content, nested hierarchy, notes/body content as children or node content.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T21:03:31.953642303-05:00","updated_at":"2025-12-18T21:10:11.205316729-05:00","closed_at":"2025-12-18T21:10:11.205316729-05:00"}
{"id":"otl-key","title":"Click tag/@mention filters document to matching items with ancestor path","description":"When clicking a #tag or @mention, filter the current document to show only items containing that tag/mention, plus the minimal ancestor chain to root. Hide all other items. This is in-document filtering, not global search. Need UI to clear filter and return to full view. Supersedes search-on-click behavior for tags (otl-cmc).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:31:04.092425581-05:00","updated_at":"2025-12-19T00:04:18.104037565-05:00","closed_at":"2025-12-19T00:04:18.104037565-05:00"}
{"id":"otl-l4j","title":"Tests: Recurrence picker (Ctrl+R)","description":"Test recurrence:\n- Ctrl+R opens recurrence picker\n- Frequency options (daily, weekly, monthly, yearly)\n- Interval setting\n- Weekly day selection\n- Preview text updates\n- Recurrence indicator shows on item","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.660406256-05:00","updated_at":"2025-12-19T22:40:36.943208994-05:00","closed_at":"2025-12-19T22:40:36.943208994-05:00"}
{"id":"otl-lcw","title":"Markdown export format (Obsidian Tasks compatible)","description":"## Overview\n\nDefine the markdown format for exported items, compatible with Obsidian and the Tasks plugin.\n\n## Format Specification\n\n### Checkboxes\n- Unchecked: `- [ ] Item content`\n- Checked: `- [x] Item content`\n- Bullet (non-task): `- Item content`\n\n### Dates (Obsidian Tasks plugin format)\n- Due date: `📅 2025-01-15` (appended to line)\n- Scheduled: `⏳ 2025-01-15`\n- Recurrence: `🔁 every week` / `🔁 every 2 days` / etc.\n- Completion date (for checked items): `✅ 2025-01-15`\n\nExample:\n```markdown\n- [ ] Review quarterly report 📅 2025-01-20\n- [ ] Weekly standup 🔁 every monday\n- [x] Submit expense report ✅ 2025-01-14\n```\n\n### Tags\n- Inline hashtags preserved: `#project` → `#project`\n\n### Wiki Links  \n- Preserved as-is: `[[Page Name]]` → `[[Page Name]]`\n- Note: Links to other Outline docs won't resolve in Obsidian (acceptable for now)\n\n### Hierarchy\n- Nested items use indentation (2 or 4 spaces, pick one)\n```markdown\n- [ ] Parent task 📅 2025-01-15\n  - [ ] Child task\n  - [ ] Another child\n    - [ ] Grandchild\n```\n\n### Rich Text\n- Bold: `**text**`\n- Italic: `*text*` or `_text_`\n- Code: `\\`code\\``\n- Links: `[text](url)`\n\n## No Frontmatter\n\nExport as pure markdown list, no YAML frontmatter block.\n\n## Dependencies\n\nPart of export feature.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:50:38.962477643-05:00","created_by":"andy","updated_at":"2025-12-27T18:50:38.962477643-05:00","dependencies":[{"issue_id":"otl-lcw","depends_on_id":"otl-9mh","type":"blocks","created_at":"2025-12-27T18:51:07.428447102-05:00","created_by":"andy"}]}
{"id":"otl-lh1","title":"2.4 Add indent guide lines","description":"Visual vertical lines connecting parent to children, like VS Code tree view or Dynalist.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:40:04.799139882-05:00","updated_at":"2025-12-12T10:44:46.175644613-05:00","closed_at":"2025-12-12T10:44:46.175644613-05:00","dependencies":[{"issue_id":"otl-lh1","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-12T10:40:08.337904627-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-ljb","title":"3.1 Implement file-based data format (JSONL)","description":"Create data format for file storage. Each document is a JSONL file with nodes. Add lastModified timestamps for LWW merge.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:50:24.918537058-05:00","updated_at":"2025-12-12T10:52:21.33939376-05:00","closed_at":"2025-12-12T10:52:21.33939376-05:00","dependencies":[{"issue_id":"otl-ljb","depends_on_id":"otl-17u","type":"blocks","created_at":"2025-12-12T10:50:30.955676434-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-ltl","title":"6.4 Read-Only Viewer - Static SPA to fetch state.json","description":"Create read-only web viewer:\n- Static HTML/JS SPA\n- Fetch state.json for document data\n- Render outline tree in read-only mode\n- Navigation between documents\n- Mobile-responsive design","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:03:23.24990113-05:00","updated_at":"2025-12-12T12:23:41.624445721-05:00","closed_at":"2025-12-12T12:23:41.624445721-05:00","dependencies":[{"issue_id":"otl-ltl","depends_on_id":"otl-808","type":"blocks","created_at":"2025-12-12T12:03:33.124865068-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-m0i","title":"Shift+Tab navigates instead of outdenting","description":"Shift+Tab should outdent the current node but instead navigates to the previous item. The keyboard handler in OutlineItem.svelte looks correct, may be Tauri/webview intercepting Tab for focus navigation before it reaches TipTap.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-11T22:49:08.275846494-05:00","updated_at":"2025-12-12T12:32:28.774723511-05:00","closed_at":"2025-12-12T12:32:28.774723511-05:00"}
{"id":"otl-mm1","title":"4.1 SQLite Cache - Create FTS5 database on startup","description":"Create .cache/outline.db on startup with FTS5 virtual table for content search. Rebuild from state.json files. Includes indexes for parent_id, date, tags.\n\nAcceptance criteria:\n- rusqlite added to Cargo.toml with bundled feature\n- Database created at ~/.outline-data/.cache/outline.db\n- FTS5 virtual table created for nodes with: id, document_id, content, note, tags\n- Index rebuilt when documents load\n- Database can be safely deleted and rebuilt","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:24:38.873686081-05:00","updated_at":"2025-12-12T11:27:17.127036834-05:00","closed_at":"2025-12-12T11:27:17.127036834-05:00"}
{"id":"otl-nbk","title":"Tests: Navigation (arrow keys, focus)","description":"Test navigation:\n- Arrow up/down moves between items\n- Focus follows navigation\n- Navigation wraps or stops at boundaries","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.505151724-05:00","updated_at":"2025-12-19T22:22:47.417568582-05:00","closed_at":"2025-12-19T22:22:47.417568582-05:00"}
{"id":"otl-nn3","title":"2.3 Add Home/End keyboard navigation","description":"Home key goes to first visible node, End key goes to last visible node.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:40:04.699077853-05:00","updated_at":"2025-12-12T10:43:47.025009169-05:00","closed_at":"2025-12-12T10:43:47.025009169-05:00","dependencies":[{"issue_id":"otl-nn3","depends_on_id":"otl-cdi","type":"blocks","created_at":"2025-12-12T10:40:08.320695466-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-o94","title":"Auto-convert [ ] and [x] to checkboxes","description":"Typing '[ ]' should auto-convert to an unchecked checkbox. Typing '[x]' or '[X]' should auto-convert to a checked checkbox. Implement as TipTap input rules that replace the text pattern with the checkbox element.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:48:50.094720797-05:00","updated_at":"2025-12-19T20:42:25.318031111-05:00","closed_at":"2025-12-19T20:42:25.318031111-05:00"}
{"id":"otl-ol0","title":"Subtree highlight should be subtler than focused item highlight","description":"Currently the focused item and its subtree use the same highlight styling. The subtree highlight should be more subtle/muted than the current item highlight to clearly distinguish which item has focus vs which items are just contextually highlighted as descendants.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T23:20:07.68569663-05:00","updated_at":"2025-12-20T21:35:08.683590603-05:00","closed_at":"2025-12-20T21:35:08.683590603-05:00"}
{"id":"otl-pe4","title":"Drag and drop appends UUID to parent item content","description":"When dragging an item onto another to make it a child, the parent item's content incorrectly gets a UUID appended to it. Example: 'bugs' becomes 'bugs019b34d0-ed57-7f53-b8fc-fbf2cf7a2524'. The child does get added correctly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T23:19:34.605967338-05:00","updated_at":"2025-12-18T23:22:26.77859797-05:00","closed_at":"2025-12-18T23:22:26.77859797-05:00"}
{"id":"otl-pfy","title":"4.4 Internal Links - Wiki-link support","description":"Add wiki-style internal linking between nodes.\n\nAcceptance criteria:\n- [[ triggers autocomplete for nodes\n- Search nodes by title/content\n- Insert link as [[node-id|display text]]\n- Render links as clickable chips in editor\n- Click to navigate to linked node","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:24:39.222819611-05:00","updated_at":"2025-12-12T11:33:55.013201678-05:00","closed_at":"2025-12-12T11:33:55.013201678-05:00","dependencies":[{"issue_id":"otl-pfy","depends_on_id":"otl-mm1","type":"blocks","created_at":"2025-12-12T11:24:45.443900063-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-pwi","title":"Add hashtag tags with search/filter support and link-style UI treatment","description":"Add support for #hashtag tags in content. Features needed: 1) Parse/detect hashtags in text, 2) Style them with link-like UI treatment, 3) Enable searching by tag, 4) Enable filtering views by tag.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T19:31:33.874743866-05:00","updated_at":"2025-12-18T20:20:25.061024905-05:00","closed_at":"2025-12-18T20:20:25.061024905-05:00"}
{"id":"otl-qfx","title":"Verify/Fix: Ctrl+. should expand/collapse children, not indent","description":"## Current behavior\nCtrl+. is mapped to indent (OutlineItem.svelte:444-448):\n```ts\nif (event.key === '.' \u0026\u0026 mod) {\n  event.preventDefault();\n  outline.indentNode(nodeId);\n  return true;\n}\n```\n\n## Expected behavior\nCtrl+. should toggle expand/collapse on the current node (if it has children).\n\n## Context menu shows\nThe context menu (line 880-884) shows 'Ctrl+.' as shortcut for Collapse:\n```ts\n{\n  label: isCollapsed ? 'Expand' : 'Collapse',\n  action: () =\u003e outline.toggleCollapse(item.node.id),\n  shortcut: 'Ctrl+.',\n  disabled: !hasChildren,\n}\n```\n\n## Issue\nContext menu says Ctrl+. is collapse, but keyboard handler does indent. Mismatch.\n\n## Fix\nChange keyboard handler to call `outline.toggleCollapse()` instead of `outline.indentNode()`, OR update context menu shortcut to match actual behavior.\n\n## Files\n- app/src/lib/OutlineItem.svelte:444-448 (keyboard handler)\n- app/src/lib/OutlineItem.svelte:880-884 (context menu)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T19:36:38.416125582-05:00","updated_at":"2025-12-21T19:41:48.341929974-05:00","closed_at":"2025-12-21T19:41:48.341929974-05:00"}
{"id":"otl-qr5","title":"Research macro format syntax for inline widgets","description":"Research and design a macro format for inline widgets like progress bars. Initial ideas: {pb:50/100} for explicit progress values, {pb:checked} to auto-calculate from child checkbox states. Consider: syntax consistency, extensibility for other widgets, parsing approach (TipTap node vs regex), how calculated macros update reactively, other potential macros (counters, rollups, etc.).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:50:07.980089449-05:00","updated_at":"2025-12-20T12:16:21.862731591-05:00","closed_at":"2025-12-20T12:16:21.862731591-05:00"}
{"id":"otl-qtc","title":"Fix flaky test: bullet-styles.spec.ts:109 checkbox items do not show bullets","description":"Test 'checkbox items do not show bullets' in bullet-styles.spec.ts sometimes fails when run in parallel with other tests. Passes when run individually.\n\nLikely a timing or state issue. Need to investigate and add proper waits or isolation.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-27T18:31:27.842388423-05:00","created_by":"andy","updated_at":"2025-12-27T19:03:17.213103041-05:00","closed_at":"2025-12-27T19:03:17.213103041-05:00","close_reason":"Fixed by ensuring focus is established before keyboard navigation in tests. Added explicit click on editor and waits for item visibility."}
{"id":"otl-qzy","title":"6.2 Inbox Capture - POST /outline/inbox endpoint and mobile form","description":"Implement mobile capture functionality:\n- POST /outline/inbox endpoint to append to inbox.jsonl\n- Mobile-friendly HTML form for quick capture\n- Basic validation (content required)\n- Append-only writes to inbox.jsonl with proper JSON format\n- Success/error feedback","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:03:23.038533488-05:00","updated_at":"2025-12-12T12:09:52.501683151-05:00","closed_at":"2025-12-12T12:09:52.501683151-05:00","dependencies":[{"issue_id":"otl-qzy","depends_on_id":"otl-808","type":"blocks","created_at":"2025-12-12T12:03:33.093597478-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-rjq","title":"View options: Expand All and Collapse All","description":"Add view options to expand or collapse all items in the document:\n\n- Expand All: Expand all collapsed items\n- Collapse All: Collapse all items that have children\n\nThese should be accessible via:\n- View menu\n- Keyboard shortcuts (e.g., Ctrl+Shift+E for expand, Ctrl+Shift+C for collapse)\n- Possibly toolbar buttons","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T22:45:14.406410181-05:00","updated_at":"2025-12-21T13:30:02.742220513-05:00","closed_at":"2025-12-21T13:30:02.742220513-05:00"}
{"id":"otl-rrz","title":"Web search context menu option with configurable search engine","description":"## Overview\n\nAdd a \"Web search\" option to the item context menu that searches for the item's content using the system default browser and a user-configured search engine.\n\n## Behavior\n\n1. Right-click item → \"Web search\" (or \"Search web\" / \"Search for this\")\n2. Takes item content as query (stripped of formatting? first N chars if long?)\n3. Opens URL in system default browser\n4. Search engine determined by user preference\n\n## Configuration\n\n### Search URL Setting\nUser specifies a URL template with `%s` placeholder:\n```\nhttps://kagi.com/search?q=%s\nhttps://duckduckgo.com/?q=%s\nhttps://www.google.com/search?q=%s\nhttps://search.brave.com/search?q=%s\n```\n\n### Presets (Optional Nice-to-Have)\nOffer quick-select presets for common engines:\n- DuckDuckGo (default?)\n- Google\n- Kagi\n- Bing\n- Brave\n\nBut the key is supporting any custom URL with `%s`.\n\n## Implementation Notes\n\n### Opening URL\nUse Tauri's `shell.open(url)` - respects system default browser (`xdg-open` on Linux, etc.)\n\n### Query Handling\n- URL-encode the query text\n- Strip markdown/formatting, use plain text\n- Truncate very long items? (or let search engine handle it)\n\n### Settings Storage\n- Store in local preferences (same place as \"last export folder\", \"last document\", etc.)\n- Not synced across machines (each machine may have different browser/preference)\n\n## UI Location\n\n- Context menu (right-click)\n- Keyboard shortcut? (optional, TBD - maybe Ctrl+Shift+S or similar)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-27T19:10:32.655240918-05:00","created_by":"andy","updated_at":"2025-12-27T19:10:32.655240918-05:00"}
{"id":"otl-s5c","title":"Export Markdown","description":"Export outline to Markdown format. Hierarchy represented with indented bullet lists. Notes and content preserved.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T21:03:32.220518874-05:00","updated_at":"2025-12-18T21:10:11.207314012-05:00","closed_at":"2025-12-18T21:10:11.207314012-05:00"}
{"id":"otl-scf","title":"Export OPML","description":"Export outline nodes to OPML format for compatibility with other outliners like Dynalist, Workflowy, OmniOutliner.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T21:03:32.083910656-05:00","updated_at":"2025-12-18T21:10:11.206345622-05:00","closed_at":"2025-12-18T21:10:11.206345622-05:00"}
{"id":"otl-smb","title":"OPML import: Handle additional Dynalist data (dates, obsidian links, highlighting)","description":"While implementing basic OPML import (otl-8x9), identified additional Dynalist OPML attributes not yet parsed:\n\n**Data to consider:**\n- Obsidian links like `[@ob](obsidian://open?vault=notes\u0026file=...)` - could convert to wiki links\n- Date references embedded in text (could extract to `date` field)\n- Markdown-style `==highlighted==` text\n- Emoji in document titles/content (works, but may need special handling)\n- Other potential fields from Dynalist Pro exports\n\nThis is a future enhancement - basic import works without these.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T21:01:30.475872527-05:00","updated_at":"2025-12-20T21:30:23.019212002-05:00","closed_at":"2025-12-20T21:30:23.019212002-05:00"}
{"id":"otl-smf","title":"Add Ctrl+S keyboard shortcut for manual save/compact","description":"Add keyboard shortcut Cmd/Ctrl+S to trigger compact_document(). This merges pending operations into state.json for a clean save point. Should show brief visual feedback that save completed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T22:46:19.392150649-05:00","updated_at":"2025-12-18T22:48:22.371381858-05:00","closed_at":"2025-12-18T22:48:22.371381858-05:00"}
{"id":"otl-th2","title":"Tests: Date views panel","description":"Test date views:\n- Ctrl+Shift+T opens date views\n- Shows overdue items\n- Shows today items\n- Shows upcoming items\n- Click item navigates to it","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.756895828-05:00","updated_at":"2025-12-19T22:58:51.514096906-05:00","closed_at":"2025-12-19T22:58:51.514096906-05:00"}
{"id":"otl-tl2","title":"Add autosave indicator showing save status","description":"Add a subtle indicator (e.g., in the status area or near title) showing: 'Saved' when clean, 'Saving...' during operation, and perhaps a brief flash on auto-save. Since operations are saved immediately to pending files, this is mostly about user confidence.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:46:19.510982221-05:00","updated_at":"2025-12-18T22:52:01.779665029-05:00","closed_at":"2025-12-18T22:52:01.779665029-05:00"}
{"id":"otl-u4h","title":"Phase 7: Mirrors \u0026 Advanced","description":"Transclusion (Workflowy-style mirrors), import/export.\n\nSubtasks:\n- 7.1 Mirrors ((( trigger, mirror_source_id, sync)\n- 7.2 Mirror Lifecycle (delete mirror vs source)\n- 7.3 Import (OPML from Dynalist/Workflowy)\n- 7.4 Export (OPML, Markdown, JSON backup)\n- 7.5 Tags (#tags, tag panel, search)\n\nMilestone: Full Dynalist replacement. Can migrate data.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-11T19:26:05.535840303-05:00","updated_at":"2025-12-18T20:48:23.64247731-05:00","closed_at":"2025-12-18T20:48:23.64247731-05:00","dependencies":[{"issue_id":"otl-u4h","depends_on_id":"otl-fx1","type":"blocks","created_at":"2025-12-11T19:28:32.42779696-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-uiq","title":"Zoom level changes in status bar but font doesn't actually scale","description":"Ctrl+mousewheel updates the zoom percentage in the status bar, but the actual font/UI size doesn't change. The zoom value is being tracked but not applied to the rendering. Need to connect zoom state to actual CSS scaling (font-size, transform scale, or CSS custom property).","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-19T23:23:16.741919112-05:00","updated_at":"2025-12-19T23:36:50.0315867-05:00","closed_at":"2025-12-19T23:36:50.0315867-05:00"}
{"id":"otl-un4","title":"Add Ctrl+Enter to mark item complete (with or without checkbox)","description":"Ctrl+Enter marks the current item as complete. Completion applies to any item regardless of whether it has a checkbox - it's a node-level property. Need to define visual treatment for completed items (strikethrough? dimmed? both?).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T23:31:46.41799299-05:00","updated_at":"2025-12-19T20:43:49.163715652-05:00","closed_at":"2025-12-19T20:43:49.163715652-05:00"}
{"id":"otl-usg","title":"Render markdown links [text](url) as clickable text","description":"Interpret markdown link syntax like Dynalist does. Currently [text](url) shows raw markdown. Should render as just 'text' with underline/link styling - URL hidden but clickable. Plain URLs (not in markdown format) could optionally show in a secondary muted style. TipTap likely has a Link extension or can use inputRules/pasteRules to detect and convert markdown links.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:19:01.520380987-05:00","updated_at":"2025-12-20T12:33:40.088170407-05:00","closed_at":"2025-12-20T12:33:40.088170407-05:00"}
{"id":"otl-uwn","title":"Tests: Rich text formatting","description":"Test TipTap formatting:\n- Ctrl+B bold\n- Ctrl+I italic\n- Ctrl+` code\n- Auto-link detection for URLs\n- Link clicking opens in new tab","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T22:19:25.677680278-05:00","updated_at":"2025-12-19T22:42:07.824957555-05:00","closed_at":"2025-12-19T22:42:07.824957555-05:00"}
{"id":"otl-vay","title":"Add Shift+Up/Down to reorder outline items","description":"Shift+Up and Shift+Down should move elements up and down in the outline order. Movement should be based on the position of the shallowest node selected (swap with sibling above/below).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:08:54.277399208-05:00","updated_at":"2025-12-18T20:14:16.486716375-05:00","closed_at":"2025-12-18T20:14:16.486716375-05:00"}
{"id":"otl-vo2","title":"Add View menu toggle to show/hide completed items","description":"Add toggle in View menu to show or hide completed items. When hidden, completed items (and possibly their children?) are filtered from view. Persist preference. Related to otl-un4 completion feature.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T23:32:07.406211642-05:00","updated_at":"2025-12-19T20:50:56.625817434-05:00","closed_at":"2025-12-19T20:50:56.625817434-05:00","dependencies":[{"issue_id":"otl-vo2","depends_on_id":"otl-un4","type":"blocks","created_at":"2025-12-18T23:32:10.720812321-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-w3m","title":"Add Ctrl+mousewheel for zoom","description":"Ctrl+mousewheel up to zoom in, Ctrl+mousewheel down to zoom out. Complements keyboard zoom shortcuts (otl-9nd). Standard browser-like zoom behavior.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T23:58:39.294801755-05:00","updated_at":"2025-12-19T20:48:29.373165361-05:00","closed_at":"2025-12-19T20:48:29.373165361-05:00"}
{"id":"otl-w3t","title":"Add URL styling and clickable links in content","description":"Style URLs in content with link formatting and make them clickable/openable. Similar to how wiki-links work, detect URL patterns and render them as interactive links.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T19:31:33.764928096-05:00","updated_at":"2025-12-18T20:18:06.323226056-05:00","closed_at":"2025-12-18T20:18:06.323226056-05:00"}
{"id":"otl-wg0","title":"Wire up toolbar search box to FTS5 search backend","description":"Connect the search box in the toolbar to the existing search Tauri command. Backend already has SQLite FTS5 search via search(query, docId?, limit?). Need to: capture input from search box, call search command, display results (likely as a dropdown/popover), and navigate to selected result.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:17:01.252775632-05:00","updated_at":"2025-12-18T22:20:52.488683758-05:00","closed_at":"2025-12-18T22:20:52.488683758-05:00"}
{"id":"otl-wlh","title":"Wiki-style cross-linking with [[ trigger and inline search","description":"Implement wiki-style cross-linking: typing '[[' triggers an inline search popup to find items (same or different document). Selected item creates a link stored by UUID. Renders as [item name] but navigates to the linked node. Backend already has get_backlinks(nodeId) for reverse lookups. WikiLink.ts TipTap extension exists as starting point. Needs: inline search UI on '[[', node selection, link storage with UUID, rendered link component, navigation on click.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:21:33.960864805-05:00","updated_at":"2025-12-18T22:29:21.083515279-05:00","closed_at":"2025-12-18T22:29:21.083515279-05:00","dependencies":[{"issue_id":"otl-wlh","depends_on_id":"otl-wg0","type":"blocks","created_at":"2025-12-18T22:21:37.293019445-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-wog","title":"Find alternative shortcut for convert-to-checkbox (Ctrl+Shift+C conflicts with Tauri)","description":"Ctrl+Shift+C is intercepted by Tauri (likely dev tools or copy). Need to find an alternative keyboard shortcut for converting an item to/from checkbox. Consider: Ctrl+Shift+X, Ctrl+Shift+K, or another available combo.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-19T23:25:41.091134697-05:00","updated_at":"2025-12-19T23:45:53.312208536-05:00","closed_at":"2025-12-19T23:45:53.312208536-05:00"}
{"id":"otl-xcb","title":"1.3 Connect Svelte UI to Rust backend","description":"Wire up the existing Svelte outliner UI to load/save via Tauri commands.\n\nAcceptance criteria:\n- Load document state from Rust on startup\n- Convert between Rust Node format and Svelte OutlineState format\n- Each edit operation calls save_op Tauri command\n- UI reflects data from Rust layer","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T19:33:51.951653806-05:00","updated_at":"2025-12-11T22:35:30.534682805-05:00","closed_at":"2025-12-11T22:35:30.534682805-05:00","dependencies":[{"issue_id":"otl-xcb","depends_on_id":"otl-4y8","type":"blocks","created_at":"2025-12-11T19:33:57.906152945-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-xlw","title":"Add expand all / collapse all toolbar buttons","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T00:10:33.235611208-05:00","updated_at":"2025-12-21T19:44:56.056833276-05:00","closed_at":"2025-12-21T19:44:56.056833276-05:00"}
{"id":"otl-xr2","title":"Implement standard app chrome: menu bar, icon toolbar, status line","description":"Establish the standard desktop app layout structure:\n\n**Row 1 - Menu Bar**\n- Standard menus: File, Edit, View, etc.\n- Native-feeling menu system\n\n**Row 2 - Icon Toolbar**\n- Action icons/buttons\n- Search field on far right\n\n**Row 3 - Outline Area**\n- Main content area (flex-grow, scrollable)\n- Takes remaining vertical space\n\n**Row 4 - Status Line**\n- Bottom status bar\n- Show contextual info (item count, sync status, etc.)\n\nThis defines the core app chrome structure. Related to otl-3f9 (scroll fix).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T19:35:07.306482966-05:00","updated_at":"2025-12-18T19:59:07.714654384-05:00","closed_at":"2025-12-18T19:59:07.714654384-05:00","dependencies":[{"issue_id":"otl-xr2","depends_on_id":"otl-ijm","type":"blocks","created_at":"2025-12-18T19:35:45.118495038-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-xsc","title":"3.3 Add sync folder configuration UI","description":"Add settings/config panel to select sync folder and show sync status. Integrate sync.ts with document operations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T11:16:31.248845309-05:00","updated_at":"2025-12-12T11:17:41.605013538-05:00","closed_at":"2025-12-12T11:17:41.605013538-05:00","dependencies":[{"issue_id":"otl-xsc","depends_on_id":"otl-17u","type":"blocks","created_at":"2025-12-12T11:16:36.310756572-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-xsc","depends_on_id":"otl-0nj","type":"blocks","created_at":"2025-12-12T11:16:36.32467271-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-xui","title":"Maintain selection after export","description":"## Overview\n\nAfter exporting selected items, keep the selection active so users can immediately delete the exported items.\n\n## Behavior\n\n1. User selects items\n2. User exports to markdown\n3. Export completes successfully\n4. Selection remains exactly as it was\n5. User can now press Delete/Shift-Delete to remove exported items\n\nThis enables the full \"move to external system\" workflow without requiring re-selection.\n\n## Edge Cases\n\n- **Export fails**: Selection should still be maintained\n- **Partial export**: If some items fail to export, what happens? (probably shouldn't happen with local file export)\n\n## UX Considerations\n\n- Maybe show a toast/notification: \"Exported N items - selection maintained\"\n- Hint about delete shortcut: \"Press Shift+Delete to remove exported items\"\n\n## Alternative Considered\n\nCould have an \"Export and Delete\" option, but keeping these separate:\n- More flexible (export without deleting)\n- User has control and visibility\n- Can review export before deleting\n\n## Dependencies\n\nRequires export functionality to be implemented.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T18:50:44.196574191-05:00","created_by":"andy","updated_at":"2025-12-27T18:50:44.196574191-05:00","dependencies":[{"issue_id":"otl-xui","depends_on_id":"otl-9mh","type":"blocks","created_at":"2025-12-27T18:51:12.544342393-05:00","created_by":"andy"}]}
{"id":"otl-yap","title":"Feature: Double-click bullet to zoom into subtree","description":"## Description\nDouble-clicking a bullet should zoom the view to show only that item and its descendants, similar to Workflowy/Dynalist \"zoom\" or \"focus\" behavior.\n\n## Behavior\n- Double-click on bullet (not checkbox) → zoom to that subtree\n- Current item becomes the \"root\" of the view\n- Breadcrumb trail shows path back to true root\n- Click breadcrumb or press Escape to zoom out\n\n## UI Elements Needed\n1. **Breadcrumb bar** (when zoomed)\n   - Shows: Root \u003e Parent \u003e Current\n   - Each segment clickable to zoom to that level\n   - Could reuse/extend the filter bar area\n\n2. **Double-click handler** on bullet\n   - Currently bullet click toggles collapse (if has children) or focuses\n   - Add: double-click → zoom\n\n## State to Track\n```ts\nlet zoomedNodeId = $state\u003cstring | null\u003e(null);\n\n// In getTree(), if zoomedNodeId is set:\n// - Start tree from zoomedNodeId instead of null\n// - Build breadcrumb path from root to zoomedNodeId\n```\n\n## Implementation Notes\n- `getTree()` already takes `parentId` param - can reuse for zoom root\n- Need to handle: what if zoomed node gets deleted? → zoom out to parent\n- Keyboard shortcut: maybe Ctrl+Enter to zoom in, Escape to zoom out\n\n## Files\n- app/src/lib/outline.svelte.ts - add zoomedNodeId state, modify getTree()\n- app/src/lib/OutlineItem.svelte - add dblclick handler to bullet\n- app/src/routes/+page.svelte - add breadcrumb bar UI\n\n## Related\nSimilar to filter mode but structural rather than search-based.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T17:19:06.909068483-05:00","updated_at":"2025-12-21T17:24:30.391831581-05:00","closed_at":"2025-12-21T17:24:30.391831581-05:00"}
{"id":"otl-yqj","title":"Perf: Add structural caching to buildTree - skip unchanged subtrees","description":"## Problem\n`buildTree()` walks all nodes every time, even when only one node changed. For 1700 nodes this is wasteful.\n\n## Current caching (outline.svelte.ts:279-293)\n```ts\n// Only checks if nodes array reference changed\nif (cachedTreeNodes === nodes \u0026\u0026 ...) {\n  return cachedTree;\n}\n```\nThis cache is **all-or-nothing** - any node change invalidates the entire tree.\n\n## Proposed: Subtree-level caching\nCache each subtree independently, keyed by:\n- Parent ID\n- Children's IDs + order\n- Relevant node properties (collapsed state)\n\n```ts\n// Cache structure\ntype SubtreeCache = Map\u003cstring | null, {\n  childIds: string[];        // For invalidation check\n  collapsedStates: boolean[];\n  result: TreeNode[];\n}\u003e;\n\nfunction buildTree(parentId, depth, ...) {\n  const children = childrenOf(parentId);\n  const childIds = children.map(c =\u003e c.id);\n  const collapsedStates = children.map(c =\u003e c.collapsed);\n  \n  const cached = subtreeCache.get(parentId);\n  if (cached \u0026\u0026 \n      arraysEqual(cached.childIds, childIds) \u0026\u0026\n      arraysEqual(cached.collapsedStates, collapsedStates)) {\n    return cached.result;\n  }\n  \n  // Build and cache...\n}\n```\n\n## Benefits\n- Deleting leaf node: only rebuild parent's children list\n- Deleting node with siblings: only rebuild that level\n- Most subtrees remain cached\n\n## Invalidation strategy\n- On any node change, clear cache for affected parent\n- On delete: clear cache for deleted node's parent\n- On move: clear cache for old parent and new parent\n\n## Complexity\nMedium - need to track what changed, not just that something changed\n\n## Files\n- app/src/lib/outline.svelte.ts:150-198 (buildTree)\n- app/src/lib/outline.svelte.ts:56-96 (rebuildIndexes - similar pattern)\n\n## Blocks\notl-yxw","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T13:14:30.762800622-05:00","updated_at":"2025-12-21T18:45:15.224368074-05:00","closed_at":"2025-12-21T18:45:15.224368074-05:00","dependencies":[{"issue_id":"otl-yqj","depends_on_id":"otl-joi","type":"blocks","created_at":"2025-12-21T13:14:37.206131494-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"otl-yqj","depends_on_id":"otl-yzi","type":"blocks","created_at":"2025-12-21T13:14:37.221482562-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-yxw","title":"Perf: Investigate DOM update strategy for large lists (1700+ items)","description":"## Problem\nWhen deleting an item from a 1700+ item outline, the entire tree is rebuilt and Svelte must diff all items, even though only one DOM element needs removal.\n\n## Current Flow\n1. API returns full DocumentState with all nodes\n2. `nodes = state.nodes` replaces entire array (outline.svelte.ts:228)\n3. `getTree()` cache invalidates → full tree rebuild (line 279-293)\n4. Svelte keyed `{#each}` walks all items to find changes\n\n## What Svelte Does Well\n- Keyed each `(item.node.id)` avoids recreating components\n- Only the removed element is actually removed from DOM\n\n## What's Still O(n)\n- Tree building: `buildTree()` creates 1700 TreeNode objects\n- Key diffing: Svelte walks all keys to find the missing one\n- Potential effect re-runs if TreeNode object identity changes\n\n## Profiling Needed\n- Run with `outline._generateTestNodes(2000)`\n- Delete an item and check:\n  - `[perf] buildTree` logs - how long?\n  - Chrome DevTools Performance tab - where's the time?\n\n## Potential Optimizations\n\n### 1. Virtualization (highest impact, highest effort)\nOnly render visible items (~50). Libraries: svelte-virtual-list, tanstack-virtual\n\n### 2. Incremental tree updates\nFor single operations (delete, add, move), surgically update the tree instead of rebuilding:\n```ts\n// Instead of: nodes = state.nodes\n// Do: nodes = nodes.filter(n =\u003e n.id !== deletedId)\n// And update tree cache in-place\n```\n\n### 3. Direct DOM removal\nFor confirmed single deletions, remove the element directly then sync state:\n```ts\n// Remove from DOM immediately\ndocument.querySelector(`[data-id=\"${nodeId}\"]`)?.remove();\n// Then update state (won't trigger re-render since element is gone)\n```\n\n### 4. Batch updates\nDefer tree rebuilds during rapid operations (debounce)\n\n## Questions to Answer\n1. Is the bottleneck in JS (tree build) or DOM (Svelte update)?\n2. Would array splice vs replace help? (maintains array identity)\n3. Are TreeNode object identities causing spurious effect re-runs?\n\n## Related Files\n- app/src/lib/outline.svelte.ts:150-198 (buildTree)\n- app/src/lib/outline.svelte.ts:279-293 (getTree with caching)\n- app/src/lib/outline.svelte.ts:541-575 (deleteNode)\n- app/src/lib/OutlineItem.svelte:1080 (children {#each})\n- app/src/routes/+page.svelte:802 (root {#each})","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T13:12:34.531589728-05:00","updated_at":"2025-12-21T18:42:43.739711101-05:00","closed_at":"2025-12-21T18:42:43.739711101-05:00","dependencies":[{"issue_id":"otl-yxw","depends_on_id":"otl-joi","type":"blocks","created_at":"2025-12-21T13:14:37.236225558-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"otl-yy0","title":"Add rename document functionality","description":"Allow renaming documents. Could be accessible via File menu, context menu in document listing sidebar (otl-d5a), or double-click on document title. Should update the document's name/title and persist.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T21:16:36.116632059-05:00","updated_at":"2025-12-20T21:24:28.199968287-05:00","closed_at":"2025-12-20T21:24:28.199968287-05:00"}
{"id":"otl-yzi","title":"Perf: Track changed node IDs for surgical cache invalidation","description":"## Problem\nCurrently `updateFromState(state)` does full replacement:\n```ts\nfunction updateFromState(state: DocumentState) {\n  nodes = state.nodes;  // Always new array\n}\n```\n\nThis provides no information about *what* changed, forcing full rebuilds.\n\n## Proposed: Track change deltas\nOption A: Backend returns change info\n```ts\ninterface DocumentUpdate {\n  nodes: Node[];\n  changedIds?: string[];   // IDs that were modified\n  deletedIds?: string[];   // IDs that were removed\n  addedIds?: string[];     // IDs that were added\n}\n```\n\nOption B: Frontend diffs the arrays\n```ts\nfunction updateFromState(state: DocumentState) {\n  const oldIds = new Set(nodes.map(n =\u003e n.id));\n  const newIds = new Set(state.nodes.map(n =\u003e n.id));\n  \n  const deleted = [...oldIds].filter(id =\u003e !newIds.has(id));\n  const added = [...newIds].filter(id =\u003e !oldIds.has(id));\n  \n  // Now we know exactly what changed\n  invalidateCacheFor(deleted, added);\n  nodes = state.nodes;\n}\n```\n\nOption C: Optimistic local updates\nFor known operations (delete, add, move), update local state first without waiting for API:\n```ts\nasync deleteNode(nodeId) {\n  // Immediate local update\n  const deletedNode = nodesById().get(nodeId);\n  nodes = nodes.filter(n =\u003e n.id !== nodeId);\n  invalidateSubtreeCache(deletedNode.parent_id);\n  \n  // Then sync with backend\n  await api.deleteNode(nodeId);\n}\n```\n\n## Recommendation\nStart with Option B (frontend diff) - least invasive, no backend changes.\nConsider Option C for perceived performance (feels instant).\n\n## Files\n- app/src/lib/outline.svelte.ts:226-229 (updateFromState)\n- app/src/lib/outline.svelte.ts:541-575 (deleteNode)\n\n## Blocks\nSubtree caching task","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T13:14:30.912268538-05:00","updated_at":"2025-12-21T13:32:59.753398323-05:00","closed_at":"2025-12-21T13:32:59.753398323-05:00"}
{"id":"otl-z0u","title":"Add periodic check for external sync changes","description":"Poll for external changes (from Dropbox/Syncthing) every few seconds using check_for_changes(). If changes detected, reload the document and merge with in-memory state. This enables seamless multi-machine editing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:46:19.626585415-05:00","updated_at":"2025-12-18T22:46:45.442119351-05:00","closed_at":"2025-12-18T22:46:45.442119351-05:00"}
{"id":"otl-z2o","title":"Shift+Tab navigates back instead of outdenting","description":"Shift+Tab should outdent the current node, but instead it navigates back to the previous item. Tab for indent works correctly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:08:54.132508001-05:00","updated_at":"2025-12-18T20:13:20.685388854-05:00","closed_at":"2025-12-18T20:13:20.685388854-05:00"}
{"id":"otl-z3j","title":"Tauri 2 detection was broken - data not persisting","description":"Fixed in 2d0d339. Tauri 2 uses __TAURI_INTERNALS__ instead of __TAURI__ for the global object. This caused the frontend to fall back to mock mode, losing all data on reload.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-18T23:11:26.501523562-05:00","updated_at":"2025-12-18T23:11:31.116780936-05:00","closed_at":"2025-12-18T23:11:31.116780936-05:00"}
{"id":"otl-z6k","title":"Mirrors (Transclusion)","description":"Workflowy-style mirrors/transclusion.\n\nSubtasks:\n- ((( trigger syntax to create mirror\n- mirror_source_id field on nodes\n- Sync content between mirror and source\n- Mirror lifecycle (delete mirror vs source behavior)","status":"blocked","priority":3,"issue_type":"epic","created_at":"2025-12-18T20:48:18.380398175-05:00","updated_at":"2025-12-18T20:48:23.624523779-05:00"}
{"id":"otl-zqt","title":"Add collapse/expand options to context menu and view menu","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T00:14:42.422649106-05:00","updated_at":"2025-12-21T00:17:44.900384919-05:00","closed_at":"2025-12-21T00:17:44.900384919-05:00"}
{"id":"otl-zvl","title":"Performance: Virtualized rendering for large documents","description":"Only render visible items on screen instead of all 1700+ items. This would reduce the 1.5s first-frame time significantly.\n\n**Complexity considerations:**\n- Tree structure makes virtualization tricky (variable item heights, nesting)\n- Need to calculate visible range accounting for scroll position and collapsed nodes\n- Libraries like @tanstack/virtual or svelte-virtual-list may help\n\n**Current state:** 1707 nodes = 1.5s render time (after lazy TipTap + backend fixes)","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-19T22:07:40.46107931-05:00","updated_at":"2025-12-21T18:55:38.704028842-05:00","closed_at":"2025-12-21T18:55:38.704028842-05:00"}
